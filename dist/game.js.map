{
  "version": 3,
  "sources": [
    "../JavaScripts/TQ/CommonLogic/Backpack.ts",
    "../JavaScripts/TQ/CommonLogic/BackpackModule.ts",
    "../JavaScripts/TQ/Tools/ArrayExtFunc.ts",
    "../build.ts",
    "../JavaScripts/HYMGame.ts",
    "../JavaScripts/TQ/tqBase/Datacenter.ts",
    "../JavaScripts/NewUI.ts",
    "../JavaScripts/test/CreateModule/CreateModule.ts",
    "../JavaScripts/TQ/tqBase/NetManager.ts",
    "../JavaScripts/test/CreateModule/BuildingData.ts",
    "../JavaScripts/ui-generate/NewUI_generate.ts",
    "../JavaScripts/NewScript.ts",
    "../JavaScripts/test/test.ts",
    "../JavaScripts/TQ/CommonLogic/RankLogic.ts",
    "../JavaScripts/TQ/CommonLogic/RewardModule.ts",
    "../JavaScripts/TQ/Tools/EventTools.ts",
    "../JavaScripts/TQ/Tools/ExtensionType.ts",
    "../JavaScripts/TQ/Tools/ObjectMaterial.ts",
    "../JavaScripts/TQ/Tools/StateMachine.ts",
    "../JavaScripts/TQ/Tools/Tools.ts",
    "../JavaScripts/TQ/TQGameStart.ts",
    "../JavaScripts/TQ/ui/BulletChatUI.ts",
    "../JavaScripts/TQ/ui/LoadingUI.ts",
    "../JavaScripts/UIDefault.ts"
  ],
  "sourcesContent": [
    "// import { Datacenter } from \"../tqBase/Datacenter\";\r\n// import { NetManager, NetModuleBase } from \"../tqBase/NetManager\";\r\n\r\n// /**\u670D\u52A1\u5668\u80CC\u5305\u6A21\u5757 */\r\n// @NetManager.netFlagClass\r\n// class Backpack extends NetModuleBase {\r\n\r\n\r\n\r\n//     protected onStart() {\r\n//     }\r\n//     protected onUpdate(dt: number) {\r\n//     }\r\n\r\n//     protected onPlayerEnter(pid: number): void {\r\n//     }\r\n\r\n//     public getModuleIndex(): number {\r\n//         return 1;\r\n//     }\r\n\r\n\r\n// }\r\n\r\n// /**\u7269\u54C1\u64CD\u4F5C */\r\n// export enum EItemCommand {\r\n//     /**\u65B0\u589E */\r\n//     Add,\r\n//     /**\u79FB\u9664 */\r\n//     Remove,\r\n//     /**\u4FEE\u6539 */\r\n//     Update,\r\n// }\r\n\r\n// /**\u5806\u53E0\u7269\u54C1 */\r\n// export type stackItem = {\r\n//     cfgid: number,\r\n//     amount: number,\r\n//     cid: number\r\n// }\r\n\r\n// /**\u72EC\u7279\u7269\u54C1 */\r\n// export type uniqueItem = {\r\n//     guid: string,\r\n//     cfgid: number,\r\n//     amount: number,\r\n//     /**\u8FD0\u884C\u65F6\u624D\u4F1A\u4EA7\u751F\u5E76\u4FDD\u5B58\u7684\u72EC\u7279\u6570\u636E\uFF0C\u4F8B\u5982\u6B66\u5668\u7ECF\u9A8C\u503C\u638C\u63E1\u5EA6\u8FD9\u4E9B */\r\n//     data: { [key: string]: number },\r\n//     cid: number\r\n// }\r\n\r\n// type columnMap = {\r\n//     myCid: number,\r\n//     stacks: {\r\n//         [cfgid: number]: stackItem\r\n//     },\r\n//     uniques: {\r\n//         [guid: string]: uniqueItem\r\n//     }\r\n// }\r\n\r\n// /**\u80CC\u5305\u786C\u76D8\u6570\u636E\u683C\u5F0F */\r\n// type BackpackInfo = {\r\n//     [column: number]: columnMap\r\n// }\r\n\r\n// /**\u670D\u52A1\u5668\u540C\u6B65\u67D0\u4E2A\u9053\u5177\u53D8\u66F4/\u65B0\u589E\u65F6\u7684\u7F51\u7EDC\u6570\u636E\u4F53 */\r\n// type itemNetSync = { id: number | string, info: stackItem | uniqueItem, amount: number, column: number };\r\n\r\n// export class BackpackData extends Datacenter.PlayerSaveData {\r\n//     private bkdata: BackpackInfo = null;\r\n\r\n//     public initData(dataSet: BackpackInfo) {\r\n//         this.bkdata = dataSet;\r\n//     }\r\n//     public clearMyData() {\r\n//         this.bkdata = {};\r\n//     }\r\n//     public get myData(): BackpackInfo {\r\n//         return this.bkdata;\r\n//     }\r\n\r\n// }\r\n\r\n// export namespace BackpackTool {\r\n\r\n// }",
    "\r\n// export class BackpackModuleC extends ModuleC<BackpackModuleS, BackpackDataHelper>\r\n// {\r\n//     public get myData() {\r\n//         return this.data;\r\n//     }\r\n\r\n//     /**\u5BA2\u6237\u7AEF\u83B7\u5F97\u67D0\u4E2A\u9053\u5177\u4FE1\u606F\u540C\u6B65\u4E0B\u6765 */\r\n//     public net_updateItem(itemObjs: itemNetSync[]) {\r\n//         for (let net of itemObjs) {\r\n//             this.data.syncClientItem(net);\r\n//         }\r\n//     }\r\n\r\n//     /**\u8BF7\u6C42\u7ED9\u81EA\u5DF1\u589E\u52A0\u4E00\u4E2A\u65B0\u9053\u5177 */\r\n//     public reqCreateItem(itemCfgid: number, amount: number, unique: boolean, column: number = 0) {\r\n//         this.server.net_playerCreateItem(itemCfgid, amount, unique, column);\r\n//     }\r\n\r\n//     /**\u8BF7\u6C42\u79FB\u9664\u4E00\u6279\u9053\u5177 */\r\n//     public reqRemoveItem(id: (number | string)[]) {\r\n//         this.server.net_removeItem(id);\r\n//     }\r\n\r\n//     /**\u8BF7\u6C42\u66F4\u65B0\u72EC\u7279\u9053\u5177\u7684\u7279\u6B8A\u4FE1\u606F */\r\n//     public reqUpdateItem(guid: string, set: { k: string, v: number }[]) {\r\n//         this.server.net_updateItem(guid, set);\r\n//     }\r\n// }\r\n\r\n// export class BackpackModuleS extends ModuleS<BackpackModuleC, BackpackDataHelper>\r\n// {\r\n//     net_playerCreateItem(itemCfgid: number, amount: number, unique: boolean, column: number = 0) {\r\n//         this.createItem(this.currentPlayer.getPlayerID(), itemCfgid, amount, unique, column);\r\n//     }\r\n\r\n//     public createItem(pid: number, itemCfgid: number, amount: number, unique: boolean, column: number = 0) {\r\n//         let player = GamePlay.getPlayer(pid);\r\n//         let data = this.getPlayerData(player);\r\n//         if (data) {\r\n//             let info = data.createNewItem(itemCfgid, amount, unique, column);\r\n//             this.callClientFun(player, this.client.net_updateItem(info))\r\n//         }\r\n//     }\r\n\r\n//     public net_removeItem(id: (number | string)[]) {\r\n//         this.removeItem(this.currentPlayer.getPlayerID(), id);\r\n//     }\r\n\r\n//     public removeItem(pid: number, id: (number | string)[]) {\r\n//         let player = GamePlay.getPlayer(pid);\r\n//         let data = this.getPlayerData(player);\r\n//         if (data) {\r\n//             let infos = data.removeItem(id);\r\n//             this.callClientFun(player, this.client.net_updateItem(infos))\r\n//         }\r\n//     }\r\n\r\n//     public net_updateItem(id: string, set: { k: string, v: number }[]) {\r\n//         this.updateItem(this.currentPlayer.getPlayerID(), id, set);\r\n//     }\r\n\r\n//     public updateItem(pid: number, id: string, set: { k: string, v: number }[]) {\r\n//         let player = GamePlay.getPlayer(pid);\r\n//         let data = this.getPlayerData(player);\r\n//         if (data) {\r\n//             let netinfo = data.changeData(id, set);\r\n//             this.callClientFun(player, this.client.net_updateItem([netinfo]))\r\n//         }\r\n//     }\r\n\r\n//     public getDataByPid(pid: number): BackpackDataHelper {\r\n//         return this.getPlayerData(GamePlay.getPlayer(pid));\r\n//     }\r\n// }\r\n\r\n\r\n// /**\u5806\u53E0\u7269\u54C1 */\r\n// export type stackItem = {\r\n//     cfgid: number,\r\n//     amount: number,\r\n//     cid: number\r\n// }\r\n\r\n// /**\u72EC\u7279\u7269\u54C1 */\r\n// export type uniqueItem = {\r\n//     guid: string,\r\n//     cfgid: number,\r\n//     amount: number,\r\n//     /**\u8FD0\u884C\u65F6\u624D\u4F1A\u4EA7\u751F\u5E76\u4FDD\u5B58\u7684\u72EC\u7279\u6570\u636E\uFF0C\u4F8B\u5982\u6B66\u5668\u7ECF\u9A8C\u503C\u638C\u63E1\u5EA6\u8FD9\u4E9B */\r\n//     data: { [key: string]: number },\r\n//     cid: number\r\n// }\r\n\r\n// type columnMap = {\r\n//     myCid: number,\r\n//     stacks: {\r\n//         [cfgid: number]: stackItem\r\n//     },\r\n//     uniques: {\r\n//         [guid: string]: uniqueItem\r\n//     }\r\n// }\r\n\r\n// /**\u670D\u52A1\u5668\u540C\u6B65\u67D0\u4E2A\u9053\u5177\u53D8\u66F4/\u65B0\u589E\u65F6\u7684\u7F51\u7EDC\u6570\u636E\u4F53 */\r\n// type itemNetSync = { id: number | string, info: stackItem | uniqueItem, amount: number, column: number };\r\n\r\n// class BackpackInfo extends DataInfo {\r\n//     items: {\r\n//         [column: number]: columnMap\r\n//     } = {}\r\n// }\r\n\r\n// export class BackpackDataHelper extends ModuleData<BackpackInfo>\r\n// {\r\n//     private static guidSeed: number = 0;\r\n\r\n//     constructor() {\r\n//         super(BackpackInfo)\r\n//     }\r\n\r\n//     protected initDefaultData(): void {\r\n//         this.dataInfo.items = {};\r\n//     }\r\n//     /**\u68C0\u67E5/\u65B0\u5EFA\u80CC\u5305\u680F */\r\n//     private checkColumn(cid: number) {\r\n//         if (!this.dataInfo.items[cid]) {\r\n//             this.dataInfo.items[cid] = {\r\n//                 myCid: cid,\r\n//                 stacks: {},\r\n//                 uniques: {}\r\n//             }\r\n//         }\r\n//     }\r\n\r\n//     /**[client] \u4ECE\u670D\u52A1\u5668\u6536\u5230\u4E00\u4E2A\u540C\u6B65\u9053\u5177\u4FE1\u606F\u7ED9\u81EA\u8EAB */\r\n//     public syncClientItem(netPack: itemNetSync) {\r\n//         this.checkColumn(netPack.column);\r\n//         const [remove, isStack] = [netPack.amount <= 0, (typeof netPack.id) == \"number\"];\r\n//         let sync: boolean = false;\r\n//         let map = this.dataInfo.items[netPack.column];\r\n\r\n\r\n\r\n//         if (isStack) {\r\n//             if (map.stacks[netPack.id]) {\r\n//                 if (remove) {\r\n//                     map.stacks[netPack.id] = null;\r\n//                 }\r\n//                 else {\r\n//                     map.stacks[netPack.id].amount = netPack.info.amount\r\n//                 }\r\n//                 sync = true;\r\n//             }\r\n//         }\r\n//         else {\r\n//             if (map.uniques[netPack.id]) {\r\n//                 if (remove) {\r\n//                     map.uniques[netPack.id] = null;\r\n//                 }\r\n//                 else {\r\n//                     map.uniques[netPack.id].data = (netPack.info as uniqueItem).data;\r\n//                 }\r\n//                 sync = true;\r\n//             }\r\n//         }\r\n\r\n//         if (!sync) //\u5982\u679C\u4E0D\u662F\u540C\u6B65\u64CD\u4F5C\uFF0C\u8BF4\u660E\u662F\u4E2A\u65B0\u589E\u64CD\u4F5C\r\n//         {\r\n//             if (isStack) {\r\n//                 map.stacks[netPack.id] = netPack.info;\r\n//             }\r\n//             else {\r\n//                 map.uniques[netPack.id] = netPack.info as uniqueItem;\r\n//             }\r\n//         }\r\n\r\n//         let cmd = remove ? EItemCommand.Remove : (sync ? EItemCommand.Update : EItemCommand.Add);\r\n\r\n//         if (isStack) {\r\n//             BackpackTool.refreshSingleStack.call(netPack.info, cmd);\r\n//         }\r\n//         else {\r\n//             BackpackTool.refreshSingleUnique.call(netPack.info as uniqueItem, cmd);\r\n//         }\r\n\r\n//     }\r\n\r\n//     /**\r\n//      * [server] \u65B0\u5EFA\u9053\u5177\r\n//      * @param itemCfgid \u4F7F\u7528\u7684\u57FA\u672C\u914D\u7F6E\u6570\u636EID\r\n//      * @param amount \u6570\u91CF\r\n//      * @param unique \u662F\u5426\u4E3A\u72EC\u7279\u9053\u5177\r\n//      * @param column \u653E\u5230\u54EA\u4E00\u79CD\u80CC\u5305\u680F\u5185(\u9ED8\u8BA40)\r\n//      * @returns\r\n//      */\r\n//     public createNewItem(itemCfgid: number, amount: number, unique: boolean, column: number = 0): itemNetSync[] {\r\n//         if (Util.SystemUtil.isClient()) {\r\n//             return;\r\n//         }\r\n\r\n//         this.checkColumn(column);\r\n//         if (unique) {\r\n//             let result: itemNetSync[] = []\r\n//             for (let i = 0; i < amount; i++) {\r\n//                 let item: uniqueItem = {\r\n//                     guid: `${Date.now()}_${Math.floor(Math.random() * 10)}_${itemCfgid}_${++BackpackDataHelper.guidSeed}`,\r\n//                     cfgid: itemCfgid,\r\n//                     data: {},\r\n//                     amount: 1,\r\n//                     cid: column\r\n//                 }\r\n//                 let keys = BackpackTool.getUniqueKeys(itemCfgid);\r\n//                 for (let [k, v] of keys) {\r\n//                     item.data[k] = v;\r\n//                 }\r\n//                 this.dataInfo.items[column].uniques[item.guid] = item;\r\n//                 BackpackTool.refreshSingleUnique.call(item, EItemCommand.Add);\r\n//                 result.push({ id: item.guid, info: item, amount: 1, column: column })\r\n//             }\r\n\r\n//             this.saveData(false);\r\n//             return result;\r\n//         }\r\n//         else {\r\n//             if (!this.dataInfo.items[column].stacks[itemCfgid]) {\r\n//                 this.dataInfo.items[column].stacks[itemCfgid] = {\r\n//                     cfgid: itemCfgid,\r\n//                     amount: amount,\r\n//                     cid: column\r\n//                 };\r\n//                 BackpackTool.refreshSingleStack.call(this.dataInfo.items[column].stacks[itemCfgid], EItemCommand.Add);\r\n//             }\r\n//             else {\r\n//                 this.dataInfo.items[column].stacks[itemCfgid].amount += amount;\r\n\r\n//                 if (this.dataInfo.items[column].stacks[itemCfgid].amount <= 0) {\r\n//                     this.dataInfo.items[column].stacks[itemCfgid] = null;\r\n//                     BackpackTool.refreshSingleStack.call(this.dataInfo.items[column].stacks[itemCfgid], EItemCommand.Remove);\r\n//                 }\r\n//                 else {\r\n//                     BackpackTool.refreshSingleStack.call(this.dataInfo.items[column].stacks[itemCfgid], EItemCommand.Update);\r\n//                 }\r\n//             }\r\n\r\n//             this.saveData(false);\r\n//             return [{\r\n//                 id: itemCfgid,\r\n//                 info: this.dataInfo.items[column].stacks[itemCfgid],\r\n//                 amount: amount,\r\n//                 column: column\r\n//             }];\r\n//         }\r\n//     }\r\n\r\n//     /**\r\n//      * \u4ECE\u81EA\u8EAB\u6570\u636E\u5E93\u4E2D\u67E5\u627E\u4E00\u4E2A\u9053\u5177\u4FE1\u606F\u5E76\u8FD4\u56DE\r\n//      * @param id \u6570\u5B57:return\u914D\u7F6EID\u7684\u5806\u53E0\u7269\u54C1\uFF0C\u5B57\u7B26\u4E32:return\u540Cguid\u7684\u72EC\u7279\u7269\u54C1\r\n//      * @param column \u56FA\u5B9A\u67E5\u627E\u7269\u54C1\u680F\uFF0C\u5982\u679C\u6709\u503C\uFF0C\u4F1A\u53EA\u9488\u5BF9\u67E5\u627E\u6B64\u7269\u54C1\u680F\u4E0B\u7684\u9053\u5177\r\n//      */\r\n//     public findItem(id: number | string, column?: number): { ret: stackItem | uniqueItem, cid: number } {\r\n//         let findColumn: columnMap[] = [];\r\n//         if (column) {\r\n//             findColumn.push(this.dataInfo.items[column]);\r\n//         }\r\n//         else {\r\n//             for (let c in this.dataInfo.items) {\r\n//                 findColumn.push(this.dataInfo.items[c]);\r\n//             }\r\n//         }\r\n\r\n//         let result: { ret: stackItem | uniqueItem, cid: number } = null;\r\n//         const isStack: boolean = typeof id == \"number\";//\u662F\u5426\u4E3A\u5806\u53E0\u9053\u5177\r\n//         for (let map of findColumn) {\r\n\r\n//             if (isStack) //\u5806\u53E0\u9053\u5177\r\n//             {\r\n//                 if (map.stacks[id]) {\r\n//                     result = {\r\n//                         ret: map.stacks[id],\r\n//                         cid: map.myCid\r\n//                     };\r\n//                     break;\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 if (map.uniques[id]) {\r\n//                     result = {\r\n//                         ret: map.uniques[id],\r\n//                         cid: map.myCid\r\n//                     };\r\n//                     break;\r\n//                 }\r\n//             }\r\n//         }\r\n\r\n//         return result;\r\n\r\n//     }\r\n\r\n//     /**[server] \u79FB\u9664\u9053\u5177 */\r\n//     public removeItem(ids: (number | string)[]): itemNetSync[] {\r\n//         if (Util.SystemUtil.isClient()) {\r\n//             return;\r\n//         }\r\n//         let result: itemNetSync[] = null;\r\n//         let findColumn: columnMap[] = [];\r\n//         for (let c in this.dataInfo.items) {\r\n//             findColumn.push(this.dataInfo.items[c]);\r\n//         }\r\n//         for (let id of ids) {\r\n//             let ret: itemNetSync = null;\r\n//             let isStack: boolean = typeof id == \"number\";//\u662F\u5426\u4E3A\u5806\u53E0\u9053\u5177\r\n//             for (let map of findColumn) {\r\n//                 if (isStack) {\r\n//                     if (map.stacks[id]) {\r\n\r\n\r\n//                         ret = {\r\n//                             id: id,\r\n//                             info: null,\r\n//                             amount: 0,\r\n//                             column: map.myCid\r\n//                         }\r\n//                         map.stacks[id] = null;\r\n//                         BackpackTool.refreshSingleStack.call(map.stacks[id], EItemCommand.Remove);\r\n//                         break;\r\n//                     }\r\n//                 }\r\n//                 else {\r\n//                     if (map.uniques[id]) {\r\n\r\n\r\n//                         ret = {\r\n//                             id: id,\r\n//                             info: null,\r\n//                             amount: 0,\r\n//                             column: map.myCid\r\n//                         }\r\n//                         map.uniques[id] = null;\r\n//                         BackpackTool.refreshSingleUnique.call(map.uniques[id], EItemCommand.Remove);\r\n//                         break;\r\n//                     }\r\n//                 }\r\n//             }\r\n//             if (!result && ret) { result = []; }\r\n//             if (ret) {\r\n//                 result.push(ret);\r\n//             }\r\n//         }\r\n\r\n\r\n//         this.saveData(false);\r\n//         return result;\r\n//     }\r\n\r\n//     /**[server] \u4FEE\u6539\u67D0\u4E2A\u72EC\u7279\u9053\u5177\u7684\u67D0\u4E9B\u5C5E\u6027 */\r\n//     public changeData(guid: string, set: { k: string, v: number }[]): itemNetSync {\r\n//         if (Util.SystemUtil.isClient()) {\r\n//             return;\r\n//         }\r\n\r\n//         let result: itemNetSync = null;\r\n//         let find = this.findItem(guid);\r\n//         if (find) {\r\n//             let item: uniqueItem = find.ret as uniqueItem;\r\n//             for (let kv of set) {\r\n//                 item.data[kv.k] = item.data[kv.v];\r\n//                 BackpackTool.refreshSingleUnique.call(item, EItemCommand.Update);\r\n//             }\r\n\r\n//             result = {\r\n//                 id: guid,\r\n//                 info: item,\r\n//                 amount: 1,\r\n//                 column: find.cid\r\n//             }\r\n//         }\r\n//         this.saveData(false);\r\n//         return result;\r\n\r\n//     }\r\n\r\n//     /**\u83B7\u53D6\u67D0\u4E2A\u80CC\u5305\u680F\u7684\u6240\u6709\u6570\u636E */\r\n//     public getColumnMap(cid: number): columnMap {\r\n//         this.checkColumn(cid);\r\n//         return this.dataInfo.items[cid];\r\n//     }\r\n// }\r\n\r\n// export enum EItemCommand {\r\n//     /**\u65B0\u589E */\r\n//     Add,\r\n//     /**\u79FB\u9664 */\r\n//     Remove,\r\n//     /**\u4FEE\u6539 */\r\n//     Update,\r\n// }\r\n\r\n// /**\u80CC\u5305\u5DE5\u5177 */\r\n// export namespace BackpackTool {\r\n//     let uniqueItemKes: Map<number, Map<string, number>> = new Map();\r\n\r\n//     /**\r\n//      * \u8BBE\u7F6E\u72EC\u7279\u9053\u5177\u7684\u8FD0\u884C\u65F6\u72EC\u7279\u5C5E\u6027\u5B57\u6BB5\r\n//      * amount\u4E3A\u4FDD\u7559\u5B57\u6BB5\uFF0C\u4E0D\u80FD\u81EA\u5B9A\u4E49\r\n//      */\r\n//     export function setUniqueKeys(cfgid: number, ...keys: { k: string, v?: number }[]) {\r\n//         if (!uniqueItemKes.has(cfgid)) {\r\n//             uniqueItemKes.set(cfgid, new Map());\r\n//         }\r\n//         for (let key of keys) {\r\n//             if (key.k != \"amount\") {\r\n//                 if (!uniqueItemKes.get(cfgid).has(key.k)) {\r\n//                     uniqueItemKes.get(cfgid).set(key.k, key.v ? key.v : 0);\r\n//                 }\r\n//             }\r\n//         }\r\n//     }\r\n//     /**\u83B7\u53D6\u67D0\u79CD\u9053\u5177\u7684\u72EC\u7279\u5C5E\u6027\u5B57\u6BB5\u96C6,\u5916\u90E8\u4E0D\u9700\u8981\u8C03\u7528 */\r\n//     export function getUniqueKeys(cfgid: number) {\r\n//         if (!uniqueItemKes.has(cfgid)) {\r\n//             uniqueItemKes.set(cfgid, new Map());\r\n//         }\r\n//         return uniqueItemKes.get(cfgid);\r\n//     }\r\n\r\n\r\n//     /**\u66F4\u65B0\u67D0\u4E2A\u72EC\u7279\u9053\u5177\u540E\u6267\u884C<\u9053\u5177\u6570\u636E\uFF0C\u884C\u4E3A> */\r\n//     export const refreshSingleUnique: Action2<uniqueItem, EItemCommand> = new Action2();\r\n//     /**\u66F4\u65B0\u67D0\u4E2A\u5806\u53E0\u9053\u5177\u540E\u6267\u884C<\u9053\u5177\u6570\u636E\uFF0C\u884C\u4E3A> */\r\n//     export const refreshSingleStack: Action2<stackItem, EItemCommand> = new Action2();\r\n\r\n\r\n\r\n\r\n//     /**\r\n//      * \u65B0\u4EA7\u751F\u4E00\u4E2A\u7269\u54C1\r\n//      * @param itemCfgid \u914D\u7F6EID\r\n//      * @param amount \u589E\u52A0\u6570\u91CF\uFF0C\u5982\u679C\u662F\u72EC\u7279\u9053\u5177\uFF0C\u6B64\u503C\u65E0\u6548\uFF0C\u5982\u679C\u662F\u5806\u53E0\u7269\uFF0C\u6B64\u503C\u4E5F\u53EF\u4EE5\u7528\u4E8E\u79FB\u9664\u6548\u679C(\u8D1F\u6570\u53C2\u6570\uFF0C\u6570\u91CF\u51CF\u52300)\r\n//      * @param unique \u662F\u5426\u4E3A\u72EC\u7279\u7269\u54C1(\u975E\u5806\u53E0\u7684\uFF0C\u540C\u57FA\u672C\u914D\u7F6E\u4E0B\u6709\u72EC\u7ACB\u5C5E\u6027\u7684)\r\n//      * @param column \u653E\u5230\u54EA\u4E2A\u80CC\u5305\u680F(\u9ED8\u8BA40)\r\n//      * @param pid \u7ED9\u54EA\u4E2A\u73A9\u5BB6,\u5BA2\u6237\u7AEF\u8C03\u968F\u610F\u56FA\u5B9A\u4E3A\u81EA\u8EAB\uFF0C\u670D\u52A1\u5668\u8C03\u7528\u65F6\u5FC5\u4F20\uFF0C\u65E0\u6548\u73A9\u5BB6ID\u5C06\u4E0D\u4F1A\u4EA7\u751F\u7269\u54C1\r\n//      */\r\n//     export function createNewItem(itemCfgid: number, amount: number, unique: boolean, column: number = 0, pid: number = -1) {\r\n//         if (Util.SystemUtil.isClient()) {\r\n//             //\u901A\u77E5\u670D\u52A1\u5668\u65B0\u589E\u9053\u5177\r\n//             ModuleManager.instance.getModule(BackpackModuleC).reqCreateItem(itemCfgid, amount, unique, column);\r\n//         }\r\n//         else {\r\n//             //\u670D\u52A1\u5668\u4EA7\u751F\u7269\u54C1\r\n//             ModuleManager.instance.getModule(BackpackModuleS).createItem(pid, itemCfgid, amount, unique, column);\r\n//         }\r\n//     }\r\n\r\n//     /**\u79FB\u9664\u67D0\u4E9B\u7269\u54C1,pid:\u5BA2\u6237\u7AEF\u968F\u610F\uFF0C\u670D\u52A1\u5668\u6307\u5B9A\u7684\u67D0\u73A9\u5BB6 */\r\n//     export function removeItem(pid: number, ...id: (number | string)[]) {\r\n//         if (Util.SystemUtil.isClient()) {\r\n//             //\u901A\u77E5\u670D\u52A1\u5668\u79FB\u9664\u9053\u5177\r\n//             ModuleManager.instance.getModule(BackpackModuleC).reqRemoveItem(id);\r\n//         }\r\n//         else {\r\n//             //\u670D\u52A1\u5668\u79FB\u9664\u7269\u54C1\r\n//             ModuleManager.instance.getModule(BackpackModuleS).removeItem(pid, id);\r\n//         }\r\n//     }\r\n\r\n//     /**\u4FEE\u6539\u72EC\u7279\u9053\u5177\u7684\u67D0\u4E9B\u5C5E\u6027\uFF0Cpid:\u5BA2\u6237\u7AEF\u968F\u610F\uFF0C\u670D\u52A1\u5668\u6307\u5B9A\u7684\u67D0\u73A9\u5BB6 */\r\n//     export function updateItem(pid: number, id: string, ...set: { k: string, v: number }[]) {\r\n//         if (Util.SystemUtil.isClient()) {\r\n//             ModuleManager.instance.getModule(BackpackModuleC).reqUpdateItem(id, set);\r\n//         }\r\n//         else {\r\n//             ModuleManager.instance.getModule(BackpackModuleS).updateItem(pid, id, set);\r\n//         }\r\n//     }\r\n\r\n//     /**\u83B7\u53D6\u67D0\u4E2A\u9053\u5177,\u6839\u636E\u4F20\u5165\u7684\u662F\u914D\u7F6EID(number)\u8FD8\u662F\u552F\u4E00ID(string) \u8FD4\u56DE\u5806\u53E0\u9053\u5177\u6216\u72EC\u7279\u9053\u5177,\u8FD4\u56DE\u6240\u5728\u80CC\u5305\u680F */\r\n//     export function findItem(id: number | string, pid?: number): { ret: stackItem | uniqueItem, cid: number } {\r\n//         let dp: BackpackDataHelper = null;\r\n//         if (Util.SystemUtil.isClient()) {\r\n\r\n//             dp = ModuleManager.instance.getModule(BackpackModuleC).myData;\r\n//         }\r\n//         else {\r\n//             if (pid) {\r\n//                 dp = ModuleManager.instance.getModule(BackpackModuleS).getDataByPid(pid);\r\n//             }\r\n//         }\r\n//         return dp ? dp.findItem(id) : null;\r\n//     }\r\n\r\n//     /**\u83B7\u53D6\u67D0\u4E00\u80CC\u5305\u680F\u7684\u6240\u6709\u6570\u636E */\r\n//     export function getColumnMap(cid: number, pid?: number): columnMap {\r\n//         let dp: BackpackDataHelper = null;\r\n//         if (Util.SystemUtil.isClient()) {\r\n\r\n//             dp = ModuleManager.instance.getModule(BackpackModuleC).myData;\r\n//         }\r\n//         else {\r\n//             if (pid) {\r\n//                 dp = ModuleManager.instance.getModule(BackpackModuleS).getDataByPid(pid);\r\n//             }\r\n//         }\r\n\r\n//         return dp ? dp.getColumnMap(cid) : null;\r\n//     }\r\n// }",
    "if (!Array.prototype.add) {\r\n    Object.defineProperty(Array.prototype, 'add', {\r\n        value(item) {\r\n            this.push(item);\r\n            return this;\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.remove) {\r\n    Object.defineProperty(Array.prototype, 'remove', {\r\n        value(key, value) {\r\n            let i = value === undefined ? this.indexOf(key) : this.findIndex(m => m[key] === value);\r\n            return i === -1 ? null : this.splice(i, 1)[0];\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.first) {\r\n    Object.defineProperty(Array.prototype, 'first', {\r\n        value(count) {\r\n            if (count == undefined) {\r\n                if (this.length > 0) {\r\n                    return this[0];\r\n                }\r\n                else return null;\r\n            }\r\n            else {\r\n                var ret = [];\r\n                for (var i = 0; i < Math.min(count, this.length); i++) {\r\n                    ret.add(this[i]);\r\n                }\r\n                return ret;\r\n            }\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.last) {\r\n    Object.defineProperty(Array.prototype, 'last', {\r\n        value() {\r\n            return this[this.length - 1];\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.has) {\r\n    Object.defineProperty(Array.prototype, 'has', {\r\n        value(key, value) {\r\n            return value !== undefined\r\n                ? this.some(m => m[key] === value)\r\n                : this.indexOf(key) !== -1;\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.set) {\r\n    Object.defineProperty(Array.prototype, 'set', {\r\n        value(arr) {\r\n            this.clear();\r\n            return this.addRange(arr);\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.random) {\r\n    Object.defineProperty(Array.prototype, 'random', {\r\n        value(count, isReturnArray) {\r\n            if (count == null || count == 1) {\r\n                if (this.length === 0) {\r\n                    return undefined;\r\n                }\r\n\r\n                let randomValue = this[Math.floor(Math.random() * this.length)];\r\n                if (isReturnArray) {\r\n                    return [randomValue];\r\n                }\r\n                return randomValue;\r\n            }\r\n            else if (count > this.length) {\r\n                return this\r\n            }\r\n            else {\r\n                var shuffled = this.slice(0);\r\n                var i = this.length, min = i - count, temp, index;\r\n                while (i-- > min) {\r\n                    index = Math.floor((i + 1) * Math.random());\r\n                    temp = shuffled[index];\r\n                    shuffled[index] = shuffled[i];\r\n                    shuffled[i] = temp;\r\n                }\r\n                return shuffled.slice(min);\r\n            }\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\n\r\nif (!Array.prototype.randomByProp) {\r\n    Object.defineProperty(Array.prototype, 'randomByProp', {\r\n        value(prop) {\r\n            prop = prop ? prop : \"weight\"\r\n\r\n            let count = 0;\r\n            this.map(item => {\r\n                if (typeof item[prop] === \"number\") {\r\n                    count += item[prop];\r\n                }\r\n            })\r\n\r\n            let rd = Math.floor(Math.random() * count);\r\n            let tempCount = 0;\r\n            for (const element of this) {\r\n                let weight = element[prop];\r\n                if (typeof element[prop] === \"number\") {\r\n                    tempCount += weight;\r\n                    if (tempCount > rd) {\r\n                        return element\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\n\r\nif (!Array.prototype.randomIndex) {\r\n    Object.defineProperty(Array.prototype, 'randomIndex', {\r\n        value() {\r\n            let count = 0;\r\n            this.map(item => {\r\n                if (typeof item === \"number\") {\r\n                    count += item;\r\n                }\r\n            })\r\n\r\n            let rd = Math.floor(Math.random() * count);\r\n            let tempCount = 0;\r\n\r\n            for (let i = 0; i < this.length; i++) {\r\n                const element = this[i];\r\n                if (typeof element === \"number\") {\r\n                    tempCount += element;\r\n                    if (tempCount > rd) {\r\n                        return i\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\nif (!Array.prototype.randomRemove) {\r\n    Object.defineProperty(Array.prototype, 'randomRemove', {\r\n        value() {\r\n            let index = this.randomIndex();\r\n            let result = this[index];\r\n            this.remove(index, 1);\r\n            return result;\r\n        },\r\n        enumerable: false\r\n    });\r\n}\r\n\r\ninterface Array<T> {\r\n    /**\r\n     * \u5220\u9664\u6570\u7EC4\u4E00\u4E2A\u5143\u7D20\u5E76\u8FD4\u56DE\u8FD9\u4E2A\u5143\u7D20\r\n     */\r\n    remove(value: T): T;\r\n    remove(key: string, value?: any): T;\r\n\r\n    /**\r\n     * \u8FD4\u56DE\u4E00\u4E2A\u968F\u673A\u5143\u7D20\r\n     */\r\n    random(): T;\r\n\r\n    randomByProp(prop: string): T;\r\n\r\n    randomIndex(): number;\r\n\r\n    randomRemove(): T;\r\n\r\n    /**\r\n     * \u968F\u673A\u5220\u9664\u4E00\u4E2A\u5143\u7D20 \u5E76\u8FD4\u8FD8\u8FD9\u4E2A\u5143\u7D20\r\n     */\r\n    randomRemove(): T\r\n\r\n    /**\r\n     * \u662F\u5426\u6709\u8FD9\u4E2A\u5143\u7D20\r\n     */\r\n    has(key: any, value?: any): boolean\r\n\r\n    /**\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u5143\u7D20\u5E76\u8FD4\u56DE\u8FD9\u4E2A\u5143\u7D20\r\n     */\r\n    add(val: T): T\r\n\r\n    /**\r\n     * \u8FD4\u56DE\u7B2C\u4E00\u4E2A\u5143\u7D20\r\n     */\r\n    first(): T;\r\n\r\n    /**\r\n     * \u8FD4\u56DE\u524D count \u4E2A\u5143\u7D20\r\n     */\r\n    first(count: number): T;\r\n\r\n    /**\r\n     * \u8FD4\u56DE\u6700\u540E\u4E00\u4E2A\u5143\u7D20\r\n     */\r\n    last(): T;\r\n\r\n    /**\r\n     * \u91CD\u65B0\u8BBE\u7F6E\u8FD9\u4E2A\u6570\u7EC4\r\n     */\r\n    set(arr: T[]): T[];\r\n}\r\n\r\n",
    "import * as foreign0 from './build';\nimport * as foreign1 from './JavaScripts/HYMGame';\nimport * as foreign2 from './JavaScripts/NewScript';\nimport * as foreign3 from './JavaScripts/NewUI';\nimport * as foreign4 from './JavaScripts/test/CreateModule/BuildingData';\nimport * as foreign5 from './JavaScripts/test/CreateModule/CreateModule';\nimport * as foreign6 from './JavaScripts/test/test';\nimport * as foreign7 from './JavaScripts/TQ/CommonLogic/Backpack';\nimport * as foreign8 from './JavaScripts/TQ/CommonLogic/BackpackModule';\nimport * as foreign9 from './JavaScripts/TQ/CommonLogic/RankLogic';\nimport * as foreign10 from './JavaScripts/TQ/CommonLogic/RewardModule';\nimport * as foreign11 from './JavaScripts/TQ/Tools/ArrayExtFunc';\nimport * as foreign12 from './JavaScripts/TQ/Tools/EventTools';\nimport * as foreign13 from './JavaScripts/TQ/Tools/ExtensionType';\nimport * as foreign14 from './JavaScripts/TQ/Tools/ObjectMaterial';\nimport * as foreign15 from './JavaScripts/TQ/Tools/StateMachine';\nimport * as foreign16 from './JavaScripts/TQ/Tools/Tools';\nimport * as foreign17 from './JavaScripts/TQ/tqBase/Datacenter';\nimport * as foreign18 from './JavaScripts/TQ/tqBase/NetManager';\nimport * as foreign19 from './JavaScripts/TQ/TQGameStart';\nimport * as foreign20 from './JavaScripts/TQ/ui/BulletChatUI';\nimport * as foreign21 from './JavaScripts/TQ/ui/LoadingUI';\nimport * as foreign22 from './JavaScripts/ui-generate/NewUI_generate';\nimport * as foreign23 from './JavaScripts/UIDefault'; \n\n    export const MWModuleMap = { \n         'build': foreign0,\n\n        'JavaScripts/HYMGame': foreign1,\n\n        'JavaScripts/NewScript': foreign2,\n\n        'JavaScripts/NewUI': foreign3,\n\n        'JavaScripts/test/CreateModule/BuildingData': foreign4,\n\n        'JavaScripts/test/CreateModule/CreateModule': foreign5,\n\n        'JavaScripts/test/test': foreign6,\n\n        'JavaScripts/TQ/CommonLogic/Backpack': foreign7,\n\n        'JavaScripts/TQ/CommonLogic/BackpackModule': foreign8,\n\n        'JavaScripts/TQ/CommonLogic/RankLogic': foreign9,\n\n        'JavaScripts/TQ/CommonLogic/RewardModule': foreign10,\n\n        'JavaScripts/TQ/Tools/ArrayExtFunc': foreign11,\n\n        'JavaScripts/TQ/Tools/EventTools': foreign12,\n\n        'JavaScripts/TQ/Tools/ExtensionType': foreign13,\n\n        'JavaScripts/TQ/Tools/ObjectMaterial': foreign14,\n\n        'JavaScripts/TQ/Tools/StateMachine': foreign15,\n\n        'JavaScripts/TQ/Tools/Tools': foreign16,\n\n        'JavaScripts/TQ/tqBase/Datacenter': foreign17,\n\n        'JavaScripts/TQ/tqBase/NetManager': foreign18,\n\n        'JavaScripts/TQ/TQGameStart': foreign19,\n\n        'JavaScripts/TQ/ui/BulletChatUI': foreign20,\n\n        'JavaScripts/TQ/ui/LoadingUI': foreign21,\n\n        'JavaScripts/ui-generate/NewUI_generate': foreign22,\n\n        'JavaScripts/UIDefault': foreign23,\n \n\n    };\n    ",
    "\uFEFFimport { Datacenter } from \"./TQ/tqBase/Datacenter\";\r\nimport NewUI from \"./NewUI\";\r\nimport { BuildingData } from \"./test/CreateModule/BuildingData\";\r\nimport { NetManager } from \"./TQ/tqBase/NetManager\";\r\n\r\n@Core.Class\r\nexport default class HYMGame extends Core.Script {\r\n\r\n\t@Core.Property()\r\n\tprivate preloadAssets: string = \"21586,21588,21592,23775\";\r\n\t/** \u5F53\u811A\u672C\u88AB\u5B9E\u4F8B\u540E\uFF0C\u4F1A\u5728\u7B2C\u4E00\u5E27\u66F4\u65B0\u524D\u8C03\u7528\u6B64\u51FD\u6570 */\r\n\tprotected async onStart(): Promise<void> {\r\n\t\tawait Datacenter.init(false, BuildingData);\r\n\t\tNetManager.initNetMgr();\r\n\t\tthis.UIinit();\r\n\t\tthis.useUpdate = true;\r\n\t}\r\n\r\n\t/** \r\n\t * \u6BCF\u5E27\u88AB\u6267\u884C,\u4E0E\u4E0A\u4E00\u5E27\u7684\u5EF6\u8FDF dt \u79D2\r\n\t * \u6B64\u51FD\u6570\u6267\u884C\u9700\u8981\u5C06this.bUseUpdate\u8D4B\u503C\u4E3Atrue\r\n\t */\r\n\tprotected onUpdate(dt: number): void {\r\n\t\tNetManager.update();\r\n\t}\r\n\r\n\t/** \u811A\u672C\u88AB\u9500\u6BC1\u65F6\u6700\u540E\u4E00\u5E27\u6267\u884C\u5B8C\u8C03\u7528\u6B64\u51FD\u6570 */\r\n\tprotected onDestroy(): void {\r\n\r\n\t}\r\n\r\n\t/**UIC\u521D\u59CB\u5316 */\r\n\tprotected UIinit() {\r\n\t\tif (Util.SystemUtil.isClient()) {\r\n\t\t\tExtension.UIManager.getInstance(Extension.UIManager);\r\n\t\t\tExtension.UIManager.instance.show(NewUI);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n",
    "interface Class<T> extends Function {\r\n    new(...args: any[]): T;\r\n}\r\nfunction sleep(time: number) {\r\n    return new Promise((resolve) => setTimeout(resolve, time));\r\n}\r\n\r\n/**\u6570\u636E */\r\nexport namespace Datacenter {\r\n    const EVENT_PLAYER_DATA_REQ_INIT_HYM = \"EVENT_PLAYER_DATA_REQ_INIT_HYM\";//\u73A9\u5BB6\u8BF7\u6C42\u670D\u52A1\u5668\u6570\u636E\r\n    const EVENT_PLAYER_DATA_RSP_INIT_HYM = \"EVENT_PLAYER_DATA_RSP_INIT_HYM\";//\u670D\u52A1\u5668\u54CD\u5E94\u6570\u636E\u8FD4\u56DE\r\n    const EVENT_PLAYER_CLIENTSYNC_HYM = \"EVENT_PLAYER_CLIENTSYNC_HYM\";//\u5BA2\u6237\u7AEF\u540C\u6B65\u7ED9\u670D\u52A1\u5668\u7684\u6570\u636E\r\n    type dataBaseInfo = { [cls: string]: any };//\u786C\u76D8\u6570\u636E\u7C7B\u578B\r\n    const dataClassMap: Map<string, Class<PlayerSaveData>> = new Map();//\u53EF\u7528\u7C7B\u7C7B\u578B\r\n\r\n    export let clientBeginDataFinish: boolean = false;//\u5BA2\u6237\u7AEF\u81EA\u5DF1\u7684\u6570\u636E\u7B2C\u4E00\u6B21\u521D\u59CB\u5B8C\u6210\r\n\r\n    /**\u521D\u59CB\u5316\u6570\u636E\u5E93\r\n     * \r\n     * @param saveOnline \u662F\u5426\u5B58\u5728\u7EBF\u4E0A\u6570\u636E\r\n     * @param dataTypes \u53EF\u7528\u7684\u6570\u636E\u7C7B\u578B\r\n     */\r\n    export async function init(saveOnline: boolean, ...dataTypes: Class<PlayerSaveData>[]) {\r\n        DataStorage.setTemporaryStorage(!saveOnline);\r\n        for (let cls of dataTypes) {\r\n            if (cls) {\r\n                dataClassMap.set(cls.name, cls);\r\n            }\r\n        }\r\n        if (Util.SystemUtil.isServer()) {\r\n            serverInit();\r\n        }\r\n        else {\r\n            clientBeginDataFinish = false;\r\n            await clientInit();\r\n        }\r\n    }\r\n    /**\u5BA2\u6237\u7AEF\u521D\u59CB\u5316 */\r\n    async function clientInit() {\r\n        let localPlayer = await Gameplay.asyncGetCurrentPlayer();\r\n        Events.addServerListener(EVENT_PLAYER_DATA_RSP_INIT_HYM, (pid: number, data: any, dataName: string) => {//\u81EA\u8EAB\u62FF\u5230\u4E86\u8C01\u7684\u54EA\u79CD\u6570\u636E\uFF0C\u5982\u679C\u6CA1\u6709\u6570\u636E\u540D\uFF0C\u4F1A\u662F\u6240\u6709\u6570\u636E\r\n            //todo \u5BA2\u6237\u7AEF\u6570\u636E\u521B\u5EFA\u6216\u4FEE\u6539\r\n            console.log(\"----------->dataLog:\", \"\u6536\u5230\u6765\u81EA\u670D\u52A1\u5668\u7684\u6570\u636E\uFF1A\", dataName ? `[${dataName}]` : \"[\u5168\u6570\u636E]\", \"\u6570\u636E\u503C\uFF1A\" + JSON.stringify(data), \"\u5C5E\u4E8E\uFF1A\" + pid);\r\n            client.getDataFromServer(pid, data, dataName);\r\n        });\r\n        Events.dispatchToServer(EVENT_PLAYER_DATA_REQ_INIT_HYM, localPlayer.getPlayerID());//\u521D\u59CB\u65F6\u8BF7\u6C42\u83B7\u53D6\u81EA\u8EAB\u7684\u6570\u636E\r\n        while (!clientBeginDataFinish) {\r\n            await sleep(10);\r\n        }\r\n    }\r\n    /**\u670D\u52A1\u5668\u521D\u59CB\u5316 */\r\n    function serverInit() {\r\n        Events.addPlayerJoinedListener(p => {//\u73A9\u5BB6\u52A0\u5165\u65F6\u5F00\u59CB\u8FDB\u884C\u6570\u636E\u88C5\u8F7D\r\n            server.loadPlayerData(p);\r\n        });\r\n        Events.addPlayerLeftListener(p => {//\u73A9\u5BB6\u9000\u51FA\u65F6\u5B58\u4E00\u6B21\u73A9\u5BB6\u6570\u636E\r\n            server.savePlayerData(p);\r\n            playerDataSet.delete(p.getPlayerID());//\u79FB\u9664\u8FD0\u884C\u65F6\u6570\u636E\r\n        });\r\n        Events.addClientListener(EVENT_PLAYER_DATA_REQ_INIT_HYM, async (p, getid: number, dataName: string) => {\r\n            server.callClientData(getid, p.getPlayerID(), dataClassMap.get(dataName));\r\n        });\r\n        Events.addClientListener(EVENT_PLAYER_CLIENTSYNC_HYM, (p, data: any, clsName: string) => {\r\n            server.getClientSyncData(p.getPlayerID(), data, clsName);\r\n            console.log(\"----------->dataLog:\", \"\u6536\u5230\u6765\u81EA\u5BA2\u6237\u7AEF\u7684\u6570\u636E\u540C\u6B65\", JSON.stringify(data));\r\n        })\r\n    }\r\n\r\n\r\n    /**\u88AB\u5B58\u50A8\u7684\u6570\u636E\u7C7B\u578B */\r\n    export abstract class PlayerSaveData {\r\n        /**\u81EA\u8EAB\u5C5E\u4E8E\u54EA\u4E2A\u73A9\u5BB6 */\r\n        public readonly pid: number;\r\n        constructor(pid: number) {\r\n            this.pid = pid;\r\n        }\r\n\r\n        public get className(): string {\r\n            return this.constructor.name;\r\n        }\r\n\r\n        /**\u5982\u4F55\u5904\u7406\u6765\u81EA\u6570\u636E\u5E93\u7684\u52A0\u8F7D\u6570\u636E,\u5982\u679C\u4E0D\u5B58\u5728\u6B64\u6570\u636E\uFF0C\u4F1A\u662F{} */\r\n        public abstract initData(dataSet: any);\r\n\r\n        /**[server] \u4FDD\u5B58\u5230\u786C\u76D8 \u672C\u8D28\u4E0A\u662F\u4FDD\u5B58\u6B64\u73A9\u5BB6\u7684\u6240\u6709\u6570\u636E,\u4EC5\u670D\u52A1\u5668\u80FD\u6267\u884C */\r\n        public save() {\r\n            if (Util.SystemUtil.isServer()) {\r\n                Datacenter.server.savePlayerData(Gameplay.getPlayer(this.pid));\r\n            }\r\n        }\r\n\r\n        /**\u6B64\u6570\u636E\u540C\u6B65\u7ED9\u81EA\u8EAB\u5BF9\u65B9\u7AEF\uFF0C\u5982\u679C\u662F\u5BA2\u6237\u7AEF\u8C03\u7528\uFF0C\u4F1A\u540C\u6B65\u7ED9\u670D\u52A1\u5668\uFF0C\u5982\u679C\u662F\u670D\u52A1\u5668\uFF0C\u4F1A\u540C\u6B65\u7ED9\u5BA2\u6237\u7AEF */\r\n        public sync() {\r\n            if (Util.SystemUtil.isServer()) {\r\n                let myplayer = Gameplay.getPlayer(this.pid)\r\n                if (myplayer) {\r\n                    Events.dispatchToClient(myplayer, EVENT_PLAYER_DATA_RSP_INIT_HYM, this.pid, this.myData, this.className);\r\n                }\r\n            }\r\n            else {\r\n                Events.dispatchToServer(EVENT_PLAYER_CLIENTSYNC_HYM, this.myData, this.className);\r\n            }\r\n        }\r\n\r\n        /**\u5728Datacenter\u8C03\u7528deleteData\u65F6\u88AB\u6267\u884C\u7684\u51FD\u6570\uFF0C\u8BBE\u7F6E\u88AB\u6E05\u7406\u540E\u7684myData\u6570\u636E\u5F62\u6001 */\r\n        public abstract clearMyData();\r\n\r\n        /**\u6267\u884C\u6570\u636E\u4FDD\u5B58\u6216\u540C\u6B65\u65F6\uFF0C\u5B9E\u9645\u4FDD\u5B58\u5230\u786C\u76D8\u7684\u5C31\u662F\u6B64get\u5C5E\u6027\u7684\u8FD4\u56DE\u503C */\r\n        public abstract get myData(): any;\r\n    }\r\n\r\n\r\n\r\n    /**\u73A9\u5BB6\u7684\u6240\u6709\u6570\u636E */\r\n    class playerAllDataSet {\r\n        private readonly _dataSet: Map<string, PlayerSaveData> = new Map();\r\n        public readonly pid: number;\r\n        constructor(pid: number, data: dataBaseInfo) {\r\n            this.pid = pid;\r\n            this.fullAllData(data);\r\n        }\r\n\r\n        /**\u88C5\u8F7D\u5168\u90E8\u6570\u636E */\r\n        public fullAllData(_data: dataBaseInfo) {\r\n            for (let clsName in _data) {\r\n                if (dataClassMap.has(clsName)) {\r\n                    const dataClass = dataClassMap.get(clsName);\r\n                    let obj = new dataClass(this.pid);\r\n                    obj.initData(_data[clsName]);\r\n                    this._dataSet.set(clsName, obj);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\u83B7\u53D6\u6B64\u73A9\u5BB6\u6570\u636E\u96C6\u7684\u67D0\u79CD\u6570\u636E */\r\n        public getDataByType<T extends PlayerSaveData>(dataType: Class<T>): T {\r\n            let clsName = dataType.name;\r\n            if (!this._dataSet.has(clsName)) {\r\n                let tempData = {};\r\n                let clsData = new dataType(this.pid);\r\n                clsData.initData(tempData);\r\n                this._dataSet.set(clsName, clsData);\r\n            }\r\n            return this._dataSet.get(clsName) as T;\r\n        }\r\n\r\n        /**\u586B\u5145\u5237\u65B0\u67D0\u79CD\u6570\u636E\u7ED9\u6B64\u73A9\u5BB6 */\r\n        public fullData<T extends PlayerSaveData>(dataType: Class<T>, data: any): T {\r\n            if (!data) {\r\n                data = {};\r\n            }\r\n            let clsName = dataType.name;\r\n            if (!this._dataSet.has(clsName)) {\r\n                let clsData = new dataType(this.pid);\r\n                clsData.initData(data);\r\n                this._dataSet.set(clsName, clsData);\r\n            }\r\n            return this._dataSet.get(clsName) as T;\r\n        }\r\n\r\n        /**\u6B64\u73A9\u5BB6\u7684\u5B8C\u6574\u6570\u636E\u96C6 */\r\n        public get myAllData(): dataBaseInfo {\r\n            let ret: dataBaseInfo = {};\r\n            for (const [k, v] of this._dataSet) {//\u83B7\u53D6\u8FD0\u884C\u65F6\u7684\u5B9E\u65F6\u53D8\u52A8\u6570\u636E\r\n                ret[k] = v.myData;\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n\r\n    const playerDataSet: Map<number, playerAllDataSet> = new Map();//\u5BA2\u6237\u7AEF\u4E0A\u7684\u73A9\u5BB6\u6570\u636E\r\n    //#region -----------------------\u5BA2\u6237\u7AEF-----------------------\r\n    export namespace client {\r\n\r\n\r\n\r\n\r\n\r\n        /**\u83B7\u53D6\u73A9\u5BB6\u7684\u67D0\u79CD\u6570\u636E\u5BF9\u8C61\r\n         * \r\n         * @param getServer \u662F\u5426\u9700\u8981\u4ECE\u670D\u52A1\u5668\u83B7\u53D6\u6700\u65B0\u6570\u636E,\u5982\u679C\u4E3Atrue,\u6700\u591A\u7B49\u5F851000ms\u540E\u5C31\u8FD4\u56DE\u7ED3\u679C\r\n         * @param dataType \u6570\u636E\u7C7B\u578B\r\n         * @param getid \u83B7\u53D6\u8C01\u7684\u6570\u636E\uFF0C\u5982\u679C\u662F-1\u5219\u83B7\u53D6\u81EA\u8EAB\u6570\u636E\r\n         */\r\n        export async function getDataByType<T extends PlayerSaveData>(dataType: Class<T>, getServer: boolean = false, getid: number = -1): Promise<T> {\r\n            if (getid == -1) {\r\n                getid = Gameplay.getCurrentPlayer().getPlayerID();\r\n            }\r\n            if (!getServer) {//\u53EA\u9700\u8981\u76F4\u63A5\u4ECE\u672C\u5730\u83B7\u53D6\u65F6\r\n                if (playerDataSet.has(getid)) {\r\n                    return playerDataSet.get(getid).getDataByType(dataType);\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n            }\r\n            else {\r\n                Events.dispatchToServer(EVENT_PLAYER_DATA_REQ_INIT_HYM, getid, dataType.name);//\u8FDB\u884C\u6570\u636E\u66F4\u65B0\u83B7\u53D6\u8BF7\u6C42\r\n                await sleep(1000);\r\n                if (playerDataSet.has(getid)) {\r\n                    return playerDataSet.get(getid).getDataByType(dataType);\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\u6570\u636E\u88C5\u8F7D\u5230\u672C\u5730(\u6846\u67B6\u56DE\u8C03\uFF0C\u4E0D\u9700\u8981\u81EA\u884C\u8C03\u7528)\r\n         * \r\n         * @param pid \u8C01\u7684\u6570\u636E\r\n         * @param data \u6570\u636E\u4F53\r\n         * @param dataName \u6570\u636E\u7C7B\u578B\u540D\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u5219\u4EE3\u8868\u5168\u90E8\u6570\u636E\r\n         */\r\n        export function getDataFromServer(pid: number, data: any, dataName: string) {\r\n            if (!clientBeginDataFinish) {\r\n                if (pid == Gameplay.getCurrentPlayer().getPlayerID()) {\r\n                    clientBeginDataFinish = true;\r\n                }\r\n            }\r\n            if (!playerDataSet.has(pid)) {\r\n                playerDataSet.set(pid, new playerAllDataSet(pid, {}));\r\n            }\r\n            let allDataObj = playerDataSet.get(pid);\r\n            if (dataName) {\r\n                let dataType = dataClassMap.get(dataName);\r\n                if (dataType) {\r\n                    allDataObj.fullData(dataType, data);\r\n                }\r\n            }\r\n            else {\r\n                allDataObj.fullAllData(data);\r\n            }\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region -------------------\u670D\u52A1\u5668-----------------\r\n    export namespace server {\r\n        const isloadingPlayer: number[] = [];//\u6B63\u5728\u88C5\u8F7D\u73A9\u5BB6\u6570\u636E\u7684\u73A9\u5BB6id\r\n\r\n\r\n        /**\u4FDD\u5B58\u73A9\u5BB6\u6570\u636E\u5230\u786C\u76D8 */\r\n        export function savePlayerData(player: Gameplay.Player) {\r\n            if (!player) {\r\n                console.error(\"----------->dataLog:\", \"save playerData error,player is \" + player);\r\n                return;\r\n            }\r\n            let pid = player.getPlayerID();\r\n\r\n            if (playerDataSet.has(pid)) {\r\n                let playerMap = playerDataSet.get(pid);\r\n                DataStorage.asyncSetPlayerData(player, playerMap.myAllData);\r\n            }\r\n        }\r\n\r\n        /**\u79FB\u9664\u67D0\u79CD\u6570\u636E\u3002\u4E0D\u53EF\u9006\uFF0C\u614E\u7528\uFF01\u6D88\u9664\u67D0\u7C7B\u578B\u6570\u636E\uFF0C\u5728\u6D88\u9664\u903B\u8F91\u540E\u4F1A\u6267\u884C\u4E00\u6B21\u5168\u6570\u636E\u4FDD\u5B58 */\r\n        export function deleteData<T extends PlayerSaveData>(player: Gameplay.Player, dataType: Class<T>) {\r\n            if (!player) {\r\n                console.error(\"----------->dataLog:\", \"delete playerData error,player is \" + player);\r\n                return;\r\n            }\r\n            let pid = player.getPlayerID();\r\n            if (playerDataSet.has(pid)) {\r\n                let className = dataType.name;\r\n                let data = playerDataSet.get(pid).getDataByType(dataType);\r\n                if (data) {\r\n                    data.clearMyData();\r\n                }\r\n                savePlayerData(player);\r\n            }\r\n        }\r\n\r\n        /**\u88C5\u8F7D\u73A9\u5BB6\u6570\u636E */\r\n        export async function loadPlayerData(player: Gameplay.Player): Promise<playerAllDataSet> {\r\n            if (!player) {//\u8FD9\u4E2A\u73A9\u5BB6\u8FD8\u4E0D\u5B58\u5728\uFF01\r\n                console.error(\"----------->dataLog:\", \"load playerData error,player is \" + player);\r\n                return null;\r\n            }\r\n            let pid = player.getPlayerID();\r\n            if (isloadingPlayer.indexOf(pid) >= 0) {//\u5982\u679C\u6B64\u73A9\u5BB6\u6B63\u5728\u88C5\u8F7D\u6570\u636E\r\n                while (!playerDataSet.has(pid)) {\r\n                    await sleep(10);\r\n                }\r\n                return playerDataSet.get(pid);\r\n            }\r\n            isloadingPlayer.push(pid);\r\n\r\n            let data: dataBaseInfo = null;\r\n            let waitTime: number = 0;\r\n            let getDataSuccess: boolean = false;\r\n            let awaitDataTask = DataStorage.asyncGetPlayerData(player);\r\n            awaitDataTask.then(val => {\r\n                data = val;\r\n                getDataSuccess = true;\r\n                console.log(\"----------->dataLog:\", \"data get sucess! pid:\" + pid);\r\n            })\r\n\r\n            while (waitTime < 100 && !getDataSuccess) {\r\n                console.log(\"----------->dataLog:\", \"wait get PlayerData pid:\" + pid);\r\n                await sleep(100);\r\n                waitTime++;\r\n            }\r\n\r\n            if (!data) {//\u7B49\u4E86 10\u79D2\u8FD8\u6CA1\u62FF\u5230\u6570\u636E \u51FA\u95EE\u9898\u4E86\uFF0C\u521B\u5EFA\u7A7A\u6570\u636E\uFF0C\u5E76\u63D0\u793A\r\n                awaitDataTask.finally();\r\n                data = {};\r\n                console.error(\"----------->dataLog:\", \"longTime not get playerData,create emptyData, pid:\" + pid);\r\n            }\r\n\r\n            playerDataSet.set(pid, new playerAllDataSet(pid, data));\r\n\r\n            isloadingPlayer.splice(isloadingPlayer.indexOf(pid), 1);\r\n            return playerDataSet.get(pid);\r\n        }\r\n\r\n        /**\u83B7\u53D6\u73A9\u5BB6\u7684\u67D0\u79CD\u6570\u636E */\r\n        export async function getPlayerData<T extends PlayerSaveData>(p: Gameplay.Player | number, dataType: Class<T>): Promise<T> {\r\n            let player: Gameplay.Player = null;\r\n            let pid = -1;\r\n            if (typeof p == \"number\") {\r\n                player = Gameplay.getPlayer(p);\r\n                pid = p;\r\n            }\r\n            else {\r\n                player = p;\r\n                pid = p.getPlayerID();\r\n            }\r\n            if (!player) {\r\n                console.error(\"----------->dataLog:\", \"get playerData error,player is \" + player);\r\n                return null;\r\n            }\r\n\r\n\r\n            let allData: playerAllDataSet = null;//\u6240\u6709\u6570\u636E\r\n            if (playerDataSet.has(pid)) {\r\n                allData = playerDataSet.get(pid);\r\n            }\r\n            else {\r\n                allData = await loadPlayerData(player);\r\n            }\r\n            if (!allData) {\r\n                console.error(\"----------->dataLog:\", \"not find playerdata in server,pid:\" + pid);\r\n                return null;\r\n            }\r\n\r\n            return allData.getDataByType(dataType);\r\n        }\r\n\r\n        /** \u5C06\u670D\u52A1\u5668\u4E0A\u8C01\u7684\u6570\u636E\u901A\u77E5\u7ED9\u67D0\u4E2A\u5BA2\u6237\u7AEF\r\n         * @param data \u6570\u636E\u5C5E\u4E8E\u8005\r\n         * @param toPlayer \u901A\u77E5\u7684\u73A9\u5BB6\r\n         * @param dataType \u540C\u6B65\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u5982\u679C\u6CA1\u6709\u4F1A\u540C\u6B65\u5168\u6570\u636E\r\n         */\r\n        export async function callClientData(dataid: number, toPlayerid: number, dataType: Class<PlayerSaveData> = null) {\r\n            let toPlayer = Gameplay.getPlayer(toPlayerid);\r\n            if (!toPlayer) {//\u9700\u8981\u6570\u636E\u7684\u73A9\u5BB6\u6CA1\u4E86\r\n                console.error(\"----------->dataLog:\", \"server have not player,pid:\" + toPlayer);\r\n                return;\r\n            }\r\n            let getPlayer = Gameplay.getPlayer(dataid);//\u6570\u636E\u6765\u6E90\u73A9\u5BB6\r\n            let dataName = dataType ? dataType.name : null;//\u6570\u636E\u7C7B\u578B\u540D\r\n            if (!getPlayer) {//\u6570\u636E\u6240\u5C5E\u73A9\u5BB6\u6CA1\u4E86\r\n                console.error(\"----------->dataLog:\", \"server have not data,pid:\" + dataid);\r\n                Events.dispatchToClient(toPlayer, EVENT_PLAYER_DATA_RSP_INIT_HYM, dataid, null, dataName);\r\n                return;\r\n            }\r\n\r\n\r\n\r\n            let allData: playerAllDataSet = null;//\u901A\u77E5\u7684\u6570\u636E\u4F53\r\n            if (playerDataSet.has(dataid)) {\r\n                allData = playerDataSet.get(dataid);\r\n            }\r\n            else {\r\n                allData = await loadPlayerData(getPlayer);\r\n            }\r\n            if (!allData) {//\u8FD9\u4E2A\u73A9\u5BB6\u6CA1\u6709\u6570\u636E\r\n                console.error(\"----------->dataLog:\", \"not find playerdata in server,pid:\" + dataid);\r\n                Events.dispatchToClient(toPlayer, EVENT_PLAYER_DATA_RSP_INIT_HYM, dataid, null, dataName);\r\n                return;\r\n            }\r\n\r\n\r\n\r\n            let toData: any = null;\r\n            if (!dataName) {//\u6CA1\u6709\u6307\u5B9A\u8981\u540C\u6B65\u54EA\u79CD\u6570\u636E\u65F6\r\n                toData = allData.myAllData;\r\n            }\r\n            else {\r\n                toData = allData.getDataByType(dataType).myData;\r\n            }\r\n\r\n            Events.dispatchToClient(toPlayer, EVENT_PLAYER_DATA_RSP_INIT_HYM, dataid, toData, dataName);\r\n        }\r\n\r\n        /**\u88C5\u8F7D\u73A9\u5BB6\u7684\u67D0\u79CD\u6570\u636E (\u6846\u67B6\u56DE\u8C03 \u4E0D\u9700\u8981\u81EA\u884C\u8C03\u7528) */\r\n        export function getClientSyncData(pid: number, data: any, clsName: string) {\r\n            let syncPlayer = Gameplay.getPlayer(pid);\r\n            if (!syncPlayer) {//\u88AB\u540C\u6B65\u6570\u636E\u7684\u73A9\u5BB6\u5728\u670D\u52A1\u5668\u4E0A\u6CA1\u4E86\r\n                console.error(\"----------->dataLog:\", \"server have not player,pid:\" + pid);\r\n                return;\r\n            }\r\n            let allData: playerAllDataSet = null;//\u901A\u77E5\u7684\u6570\u636E\u4F53\r\n            if (!playerDataSet.has(pid)) {//\u6B64\u73A9\u5BB6\u7684\u6570\u636E\u4E0D\u5B58\u5728\uFF01\r\n                console.error(\"----------->dataLog:\", \"not find playerdata in server,pid:\" + pid);\r\n                return;\r\n            }\r\n            allData = playerDataSet.get(pid);\r\n            let dataType = dataClassMap.get(clsName);\r\n            if (dataType) {\r\n                allData.fullData(dataType, data);\r\n                savePlayerData(syncPlayer);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //#endregion\r\n}",
    "\uFEFF\r\n/** \r\n * AUTHOR: \u4E00\u8DEF\u5411\u524D\r\n * TIME: 2022.10.25-13.14.56\r\n */\r\n\r\nimport { CreateModule } from \"./test/CreateModule/CreateModule\";\r\nimport { NetManager } from \"./TQ/tqBase/NetManager\";\r\nimport NewUI_Generate from \"./ui-generate/NewUI_generate\";\r\n\r\nexport default class NewUI extends NewUI_Generate {\r\n\r\n\t/** \r\n\t* \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0C\u5728\u5408\u9002\u7684\u65F6\u673A\u6700\u5148\u521D\u59CB\u5316\u4E00\u6B21 \r\n\t*/\r\n\tprotected onStart() {\r\n\t\t//\u8BBE\u7F6E\u80FD\u5426\u6BCF\u5E27\u89E6\u53D1onUpdate\r\n\t\tthis.canUpdate = false;\r\n\t\tthis.layer = Extension.UILayerMiddle;\r\n\t\t//this.initButtons();\r\n\r\n\t\tthis.btn_Set.onClicked.add(() => {\r\n\t\t\tNetManager.getModule(CreateModule).setObject();\r\n\t\t});\r\n\t\tthis.btn_cube.onClicked.add(() => {\r\n\t\t\tNetManager.getModule(CreateModule).switchObj(0);\r\n\t\t});\r\n\t\tthis.btn_cone.onClicked.add(() => {\r\n\t\t\tNetManager.getModule(CreateModule).switchObj(1);\r\n\t\t});\r\n\t\tthis.btn_sphere.onClicked.add(() => {\r\n\t\t\tNetManager.getModule(CreateModule).switchObj(2);\r\n\t\t});\r\n\t\tthis.btn_jump.onClicked.add(() => {\r\n\t\t\tGameplay.getCurrentPlayer().character.jump();\r\n\t\t})\r\n\t}\r\n\r\n\t/** \r\n\t* \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0ConStart\u4E4B\u540E \r\n\t* \u5BF9\u4E8EUI\u7684\u6839\u8282\u70B9\u7684\u6DFB\u52A0\u64CD\u4F5C\uFF0C\u8FDB\u884C\u8C03\u7528\r\n\t* \u6CE8\u610F\uFF1A\u8BE5\u4E8B\u4EF6\u53EF\u80FD\u4F1A\u591A\u6B21\u8C03\u7528\r\n\t*/\r\n\tprotected onAdded() {\r\n\t}\r\n\r\n\t/** \r\n\t * \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0ConAdded\u4E4B\u540E\r\n\t * \u5BF9\u4E8EUI\u7684\u6839\u8282\u70B9\u7684\u79FB\u9664\u64CD\u4F5C\uFF0C\u8FDB\u884C\u8C03\u7528\r\n\t * \u6CE8\u610F\uFF1A\u8BE5\u4E8B\u4EF6\u53EF\u80FD\u4F1A\u591A\u6B21\u8C03\u7528\r\n\t */\r\n\tprotected onRemoved() {\r\n\t}\r\n\r\n\t/** \r\n\t* \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0CUI\u5BF9\u8C61\u518D\u88AB\u9500\u6BC1\u65F6\u8C03\u7528 \r\n\t* \u6CE8\u610F\uFF1A\u8FD9\u4E4B\u540EUI\u5BF9\u8C61\u5DF2\u7ECF\u88AB\u9500\u6BC1\u4E86\uFF0C\u9700\u8981\u79FB\u9664\u6240\u6709\u5BF9\u8BE5\u6587\u4EF6\u548CUI\u76F8\u5173\u5BF9\u8C61\u4EE5\u53CA\u5B50\u5BF9\u8C61\u7684\u5F15\u7528\r\n\t*/\r\n\tprotected onDestroy() {\r\n\t}\r\n\r\n\t/**\r\n\t* \u6BCF\u4E00\u5E27\u8C03\u7528\r\n\t* \u901A\u8FC7canUpdate\u53EF\u4EE5\u5F00\u542F\u5173\u95ED\u8C03\u7528\r\n\t* dt \u4E24\u5E27\u8C03\u7528\u7684\u65F6\u95F4\u5DEE\uFF0C\u6BEB\u79D2\r\n\t*/\r\n\t//protected onUpdate(dt :number) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6E\u663E\u793A\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onShow(...params:any[]) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6E\u4E0D\u663E\u793A\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onHide() {\r\n\t//}\r\n\r\n}\r\n",
    "import { Datacenter } from \"../../TQ/tqBase/Datacenter\";\r\nimport { NetManager, NetModuleBase } from \"../../TQ/tqBase/NetManager\";\r\nimport { BuildingData } from \"./BuildingData\";\r\n\r\ntype objType = {\r\n    ty: number,\r\n    tempObj: Core.GameObject\r\n}\r\n\r\n@NetManager.netFlagClass\r\nexport class CreateModule extends NetModuleBase {\r\n    private tempInfo: objType[] = null;\r\n    private curSwitchID: number = -1;\r\n\r\n    private locPlayer: Gameplay.Character = null;\r\n\r\n    protected onStart() {\r\n        if (this.isServer) {//\u5982\u679C\u662F\u670D\u52A1\u5668\r\n            console.log(\"\u670D\u52A1\u5668\u521D\u59CB\u5316\")\r\n        }\r\n        else {\r\n            console.log(\"\u5BA2\u6237\u7AEF\u521D\u59CB\u5316\")\r\n            this.locPlayer = Gameplay.getCurrentPlayer().character;\r\n\r\n            this.tempInfo = [\r\n                { ty: 21588, tempObj: Core.GameObject.spawnGameObject(\"21588\") },\r\n                { ty: 21586, tempObj: Core.GameObject.spawnGameObject(\"21586\") },\r\n                { ty: 21592, tempObj: Core.GameObject.spawnGameObject(\"21592\") },\r\n            ];\r\n            //this.switchObj(0);\r\n        }\r\n    }\r\n\r\n    protected onPlayerEnter(pid: number): void {\r\n        Datacenter.server.getPlayerData(pid, BuildingData).then(dt => {\r\n            if (dt) {\r\n                for (let info of dt.myData.infos) {\r\n                    let o = Core.GameObject.spawnGameObject(info[0]);\r\n                    o.worldLocation = new Type.Vector(...info[1]);\r\n                    o.worldScale = new Type.Vector(...info[2]);\r\n                    o.worldRotation = new Type.Rotation(info[3][0], info[3][1], info[3][2]);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    protected onUpdate(dt: number) {\r\n        if (!this.isServer) {\r\n            let info = this.tempInfo[this.curSwitchID];\r\n            if (info && info.tempObj) {\r\n                info.tempObj.worldLocation = this.locPlayer.worldLocation.add(this.locPlayer.forwardVector.multiply(100));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**[client] \u653E\u7F6E\u5F53\u524D\u7269\u4F53 */\r\n    public setObject() {\r\n        let info = this.tempInfo[this.curSwitchID];\r\n        if (!info || !info.tempObj) { return; }\r\n\r\n        let tempObject = info.tempObj;\r\n        if (tempObject) {\r\n            const pos = tempObject.worldLocation;\r\n            const scale = tempObject.worldScale;\r\n            const rot = tempObject.worldRotation;\r\n            let guid: string = info.ty.toString();\r\n            let posN = [pos.x, pos.y, pos.z];\r\n            let sizeN = [scale.x, scale.y, scale.z];\r\n            let rotN = [rot.x, rot.y, rot.z]\r\n            NetManager.sendNet(1, [guid, posN, sizeN, rotN]);\r\n        }\r\n\r\n    }\r\n\r\n    public switchObj(ty: number) {\r\n        if (ty != this.curSwitchID && this.curSwitchID >= 0) {//\u5207\u6362\u4E86\r\n            if (this.tempInfo[this.curSwitchID].tempObj) {\r\n                this.tempInfo[this.curSwitchID].tempObj.setVisibility(Type.PropertyStatus.Off);//\u9690\u85CF\u4E4B\u524D\u7684\r\n            }\r\n\r\n        }\r\n        this.curSwitchID = ty;\r\n        if (!this.tempInfo[this.curSwitchID].tempObj) {\r\n            this.tempInfo[this.curSwitchID].tempObj = Core.GameObject.spawnGameObject(this.tempInfo[this.curSwitchID].ty.toString());\r\n        }\r\n        this.tempInfo[this.curSwitchID].tempObj.setVisibility(Type.PropertyStatus.On);//\u663E\u793A\u5F53\u524D\u7684\r\n\r\n        // (this.tempInfo[this.curSwitchID].tempObj as Gameplay.StaticMesh).setMaterial(\"23775\");\r\n    }\r\n\r\n    @NetManager.netFlagFunc(1)\r\n    private onPlayerSetObj(pid: number, guid: string, pos: number[], size: number[], rot: number[]) {\r\n        console.log(\"\u73A9\u5BB6 \" + pid + \" \u653E\u7F6E\u4E86\u4E00\u4E2A \" + guid);\r\n        let obj = Core.GameObject.spawnGameObject(guid);\r\n        obj.worldLocation = new Type.Vector(...pos);\r\n        obj.worldScale = new Type.Vector(...size);\r\n        obj.worldRotation = new Type.Rotation(rot[0], rot[1], rot[2]);\r\n\r\n        //\u5B58\u6570\u636E\r\n        Datacenter.server.getPlayerData(pid, BuildingData).then(dt => {\r\n            if (dt) {\r\n                dt.addBuilding(obj);\r\n                dt.save()\r\n            }\r\n        })\r\n    }\r\n\r\n}",
    "// import { Class } from \"./Tools\";\r\n\r\n/**\u7F51\u7EDC\u7BA1\u7406\u5668 */\r\nexport namespace NetManager {\r\n    const netInstanceObj: Map<string, NetModuleBase> = new Map();//\u7F51\u7EDC\u5B9E\u4F8B\u5BF9\u8C61\r\n    const EVENT_NETMGR_SEND_SERVER = \"EVENT_NETMGR_SEND_SERVER\";//\u53D1\u9001\u5230\u670D\u52A1\u5668\r\n    const EVENT_NETMGR_SEND_CLIENT = \"EVENT_NETMGR_SEND_CLIENT\";//\u53D1\u9001\u5230\u5BA2\u6237\u7AEF\r\n    const EVENT_NETMGR_PLAYERENTER = \"EVENT_NETMGR_PLAYERENTER\";//\u5BA2\u6237\u7AEF\u521D\u59CB\u5316\u5B8C\u6210\u4E86\r\n    type respFunc = { objType: string, func: (...arg: unknown[]) => void, cmdid: number };//\u6536\u5230\u6D88\u606F\u540E\u5E72\u7684\u4E8B\u513F\r\n    const netRegistFunc: Map<number, respFunc[]> = new Map();//\u6240\u6709\u7F51\u7EDC\u56DE\u8C03\u96C6\u5408\r\n    /**\u7F51\u7EDC\u6570\u636E\u683C\u5F0F */\r\n    interface INetPackage {\r\n        data: any[],\r\n        cmdid: number,\r\n    }\r\n    /**\u670D\u52A1\u5668\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\u7684\u6D88\u606F */\r\n    class sendClientPackage implements INetPackage {\r\n        data: any[];\r\n        cmdid: number;\r\n        errorid: number;\r\n\r\n    }\r\n    /**\u5BA2\u6237\u7AEF\u53D1\u9001\u7ED9\u670D\u52A1\u5668\u7684\u6D88\u606F */\r\n    class sendServerPackage implements INetPackage {\r\n        data: any[];\r\n        cmdid: number;\r\n        pid: number;\r\n    }\r\n\r\n    type errorTipsAct = { errorid: number, act: string | ((id: number) => void) };//\u9519\u8BEF\u63D0\u793A\u65B9\u5F0F\r\n    const errorMap: Map<number, errorTipsAct> = new Map();\r\n\r\n    /**[client] \u6CE8\u518C\u6536\u5230\u9519\u8BEF\u4FE1\u606F\u540E\u7684\u63D0\u793A */\r\n    export function setErrorTips(errorid: number, tips: string | ((id: number) => void)) {\r\n        if (Util.SystemUtil.isClient()) {\r\n            errorMap.set(errorid, { errorid: errorid, act: tips });\r\n        }\r\n    }\r\n\r\n\r\n    /**\u53D1\u9001\u7F51\u7EDC\u6570\u636E \u4E0D\u4F1A\u89E6\u53D1\u540C\u7AEF\u7684\u5BF9\u5E94cmd\u51FD\u6570\r\n     * \u4F8B\u5982\uFF0C\u5982\u679C\u5728\u5BA2\u6237\u7AEF\u5408\u670D\u52A1\u5668\u90FD\u5B9A\u4E49\u4E86cmd 1 \u7684\u51FD\u6570\uFF0C\u5982\u679C\u662F\u5BA2\u6237\u7AEF\u6267\u884CsendNet\uFF0C\u53EA\u4F1A\u8C03\u7528\u670D\u52A1\u5668\u7684 cmd 1 \u7684\u51FD\u6570\uFF0C\u540C\u7406\u670D\u52A1\u5668\u4E5F\u53EA\u4F1A\u901A\u77E5\u5BA2\u6237\u7AEF\u7684cmd 1\r\n     * \r\n     * @param cmd \u64CD\u4F5CID\r\n     * @param data \u6570\u636E\r\n     * @param pid [server]\u53D1\u9001\u7ED9\u8C01\r\n     * @param errorid [server]\u9519\u8BEF\u63D0\u793A\r\n     */\r\n    export function sendNet(cmd: number, data: any[], pid?: number, errorid: number = 0) {\r\n        if (Util.SystemUtil.isServer()) {\r\n            let net: sendClientPackage = {\r\n                errorid: errorid,\r\n                data: data,\r\n                cmdid: cmd\r\n            }\r\n            if (pid) {\r\n                let p = Gameplay.getPlayer(pid);\r\n                if (p) {\r\n                    Events.dispatchToClient(p, EVENT_NETMGR_SEND_CLIENT, net);\r\n                }\r\n                else {\r\n                    console.error(\"not find player:\" + pid)\r\n                }\r\n            }\r\n            else {\r\n                Events.dispatchToAllClient(EVENT_NETMGR_SEND_CLIENT, net);\r\n            }\r\n        }\r\n        if (Util.SystemUtil.isClient()) {\r\n            let locPlayer = Gameplay.getCurrentPlayer();\r\n            if (!locPlayer) {\r\n                console.error(\"current player notFind !\")\r\n                return;\r\n            }\r\n            let net: sendServerPackage = {\r\n                data: data,\r\n                cmdid: cmd,\r\n                pid: locPlayer.getPlayerID()\r\n            }\r\n            Events.dispatchToServer(EVENT_NETMGR_SEND_SERVER, net);\r\n        }\r\n\r\n    }\r\n\r\n    /**\u7F51\u7EDC\u4F20\u8F93\u521D\u59CB\u5316 */\r\n    export function initNetMgr() {\r\n        const curIsServer: boolean = Util.SystemUtil.isServer();\r\n        if (Util.SystemUtil.isServer()) {\r\n            //\u6536\u5230\u6765\u81EA\u5BA2\u6237\u7AEF\u7684\u6570\u636E\u65F6\r\n            Events.addClientListener(EVENT_NETMGR_SEND_SERVER, (p: Gameplay.Player, net: sendServerPackage) => {\r\n                const netFunc = netRegistFunc.get(net.cmdid);\r\n                if (netFunc) {\r\n                    for (let f of netFunc) {\r\n                        let obj = netInstanceObj.get(f.objType);\r\n                        if (!obj) { continue; }\r\n                        try {\r\n                            f.func.call(obj, net.pid, ...net.data);\r\n                        } catch (error) {\r\n                            console.error(\"net response error!\");\r\n                            console.error(error.stack);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            })\r\n            //\u5BA2\u6237\u7AEF\u521D\u59CB\u5316\u5B8C\u6210\r\n            Events.addClientListener(EVENT_NETMGR_PLAYERENTER, p => {\r\n                for (let [k, v] of netInstanceObj) {\r\n                    v[\"playerEnter\"](p.getPlayerID());\r\n                }\r\n            })\r\n        }\r\n\r\n        if (Util.SystemUtil.isClient()) {\r\n            //\u6536\u5230\u6765\u81EA\u670D\u52A1\u5668\u7684\u6570\u636E\r\n            Events.addServerListener(EVENT_NETMGR_SEND_CLIENT, (net: sendClientPackage) => {\r\n                if (errorMap.has(net.errorid)) {//\u9519\u8BEF\u63D0\u793A\r\n                    let tip = errorMap.get(net.errorid);\r\n                    if (typeof tip.act == \"string\") {\r\n                        console.log(tip);\r\n                    }\r\n                    else {\r\n                        tip.act(net.errorid);\r\n                    }\r\n                }\r\n                const netFunc = netRegistFunc.get(net.cmdid);\r\n                if (netFunc) {\r\n                    for (let f of netFunc) {\r\n                        let obj = netInstanceObj.get(f.objType);\r\n                        if (!obj) { continue; }\r\n                        try {\r\n                            f.func.call(obj, ...net.data);\r\n                        } catch (error) {\r\n                            console.error(\"net response error!\");\r\n                            console.error(error.stack);\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            })\r\n        }\r\n\r\n        let modArray: NetModuleBase[] = [];\r\n        for (let [k, v] of netInstanceObj) {\r\n            modArray.push(v);\r\n        }\r\n        modArray.sort((a, b) => {\r\n            return b.getModuleIndex() - a.getModuleIndex();\r\n        });\r\n        modArray.forEach(m => {\r\n            m[\"start\"]();\r\n        })\r\n\r\n\r\n        if (Util.SystemUtil.isClient()) {\r\n            Events.dispatchToServer(EVENT_NETMGR_PLAYERENTER);//\u6B64\u5BA2\u6237\u7AEF\u521D\u59CB\u5316\u5B8C\u6210\u4E86\uFF0C\u6240\u6709\u6A21\u5757start\u5DF2\u7ECF\u8D70\u5B8C\uFF0C\u901A\u77E5\u670D\u52A1\u5668\uFF0C\u73A9\u5BB6\u8FDB\u5165\r\n        }\r\n    }\r\n\r\n    let time: number = 0;\r\n    /**\u5E27\u66F4\u65B0\u903B\u8F91\u9A71\u52A8 */\r\n    export function update() {\r\n        const now = Date.now();\r\n        if (time == 0) { time = now };\r\n        for (let [k, v] of netInstanceObj) {\r\n            v[\"update\"](now - time);\r\n        }\r\n        time = now;\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\u88C5\u9970\u5668\uFF0C\u6CE8\u518C\u7F51\u7EDC\u7C7B */\r\n    export function netFlagClass<T extends { new(...args: any[]): NetModuleBase }>(constructor: T) {\r\n        const netObj = new constructor();\r\n        netInstanceObj.set(constructor.name, netObj);\r\n    }\r\n\r\n\r\n    /**\u88C5\u9970\u5668\uFF0C\u6CE8\u518C\u7F51\u7EDC\u56DE\u8C03,\u5982\u679C\u662F\u4E2A\u670D\u52A1\u5668\u56DE\u8C03\uFF0C\u6CE8\u518C\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E00\u5B9A\u5F97\u662F\u73A9\u5BB6ID */\r\n    export function netFlagFunc(cmdid: number) {\r\n        return function (target: any, propertyRey: string, description: PropertyDescriptor) {\r\n            if (!description.value || typeof description.value != \"function\") {\r\n                return;\r\n            }\r\n            const className: string = target.constructor.name;//\u7C7B\u540D\r\n            const func = description.value;//\u51FD\u6570\u5BF9\u8C61\r\n            if (!netRegistFunc.has(cmdid)) {//\u4EE5\u524D\u6CA1\u6CE8\u518C\u8FC7\u6B64\u64CD\u4F5CID\r\n                netRegistFunc.set(cmdid, new Array<respFunc>());\r\n            }\r\n            let f: respFunc = {\r\n                objType: className,\r\n                func: func,\r\n                cmdid: cmdid\r\n            }\r\n            netRegistFunc.get(cmdid).push(f);\r\n        }\r\n    }\r\n\r\n    /**\u83B7\u53D6\u7F51\u7EDC\u903B\u8F91\u6A21\u5757 */\r\n    export function getModule<T extends NetModuleBase>(cls: { new(...args: any[]): T }): T {\r\n        if (netInstanceObj.has(cls.name)) {\r\n            return netInstanceObj.get(cls.name) as T;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\u7F51\u7EDC\u5BF9\u8C61 */\r\nexport abstract class NetModuleBase {\r\n\r\n    /**\u81EA\u8EAB\u662F\u5426\u4E3A\u670D\u52A1\u5668\u5BF9\u8C61 */\r\n    public readonly isServer: boolean = true;\r\n    public constructor() {\r\n        this.isServer = Util.SystemUtil.isServer();\r\n        this.onAwake();\r\n    }\r\n\r\n    /**\u81EA\u8EAB\u6240\u5C5E\u521D\u59CB\u5316\u987A\u5E8F(\u6570\u5B57\u8D8A\u9AD8\uFF0C\u6267\u884Cstart\u8D8A\u9760\u524D) */\r\n    public getModuleIndex(): number {\r\n        return 0;\r\n    }\r\n\r\n    /**\u6784\u9020\u540E\u8C03\u7528 */\r\n    protected onAwake() {\r\n\r\n    }\r\n\r\n    private start() {\r\n        this.onStart();\r\n    }\r\n    /**\u7F51\u7EDC\u521D\u59CB\u5316\u5B8C\u6BD5\u540E\u8C03\u7528 */\r\n    protected abstract onStart();\r\n\r\n    private update(dt: number) {\r\n        this.onUpdate(dt);\r\n    }\r\n\r\n    /**\r\n     * \u5E27\u903B\u8F91\r\n     * @param dt \u4E0E\u4E0A\u4E00\u5E27\u95F4\u9694(ms)\r\n     */\r\n    protected abstract onUpdate(dt: number);\r\n\r\n    private playerEnter(pid: number) {\r\n        this.onPlayerEnter(pid);\r\n    }\r\n\r\n    /**[server] \u4EC5\u670D\u52A1\u5668\u89E6\u53D1\uFF0C\u4EFB\u610F\u73A9\u5BB6\u8FDB\u5165\u6E38\u620F*/\r\n    protected onPlayerEnter(pid: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n",
    "import { Datacenter } from \"../../TQ/tqBase/Datacenter\";\r\n\r\ntype buildingInfo = [\r\n    string,\r\n    number[],\r\n    number[],\r\n    number[]\r\n]\r\ntype allBuilding = {\r\n    infos: buildingInfo[]\r\n}\r\n\r\nexport class BuildingData extends Datacenter.PlayerSaveData {\r\n\r\n    private building: allBuilding = {\r\n        infos: []\r\n    }\r\n    //\u4ECE\u6570\u636E\u5E93\u521D\u59CB\u6570\u636E\u4E3A\u8FD0\u884C\u65F6\u6570\u636E\u5F62\u6001\r\n    public initData(dataSet: allBuilding) {\r\n        if (!dataSet.infos) {\r\n            this.building = {\r\n                infos: []\r\n            }\r\n        }\r\n        else {\r\n            this.building = dataSet;\r\n        }\r\n\r\n\r\n    }\r\n    public clearMyData() {\r\n        this.building = {\r\n            infos: []\r\n        }\r\n    }\r\n\r\n    //\u83B7\u53D6\u4FDD\u5B58\u5230\u6570\u636E\u5E93\u7684\u5F62\u6001\r\n    public get myData(): allBuilding {\r\n        this.building.infos.forEach(info => {\r\n            info[1].forEach((v, index, array) => {\r\n                array[index] = Math.floor(v);\r\n            })\r\n            info[2].forEach((v, index, array) => {\r\n                array[index] = Math.floor(v);\r\n            })\r\n            info[3].forEach((v, index, array) => {\r\n                array[index] = Math.floor(v);\r\n            })\r\n        })\r\n\r\n        return this.building;\r\n    }\r\n\r\n    public addBuilding(obj: Core.GameObject) {\r\n        let sv: buildingInfo = [\r\n            obj.getSourceAssetGuid(),\r\n            [obj.worldLocation.x, obj.worldLocation.y, obj.worldLocation.z],\r\n            [obj.worldScale.x, obj.worldScale.y, obj.worldScale.z],\r\n            [obj.worldRotation.x, obj.worldRotation.y, obj.worldRotation.z]\r\n        ]\r\n        this.building.infos.push(sv);\r\n    }\r\n\r\n}",
    "\uFEFF\r\n/**\r\n * AUTO GENERATE BY UI EDITOR.\r\n * WARNING: DO NOT MODIFY THIS FILE,MAY CAUSE CODE LOST.\r\n * AUTHOR: \u4E00\u8DEF\u5411\u524D\r\n * UI: UI/NewUI.ui\r\n * TIME: 2022.10.25-15.22.30\r\n */\r\n\r\n \r\n\r\n @UI.UICallOnly('UI/NewUI.ui')\r\n export default class NewUI_Generate extends UI.UIBehaviour {\r\n\t @UI.UIMarkPath('RootCanvas/btn_cube')\r\n    public btn_cube: UI.Button=undefined;\r\n    @UI.UIMarkPath('RootCanvas/btn_cone')\r\n    public btn_cone: UI.Button=undefined;\r\n    @UI.UIMarkPath('RootCanvas/btn_sphere')\r\n    public btn_sphere: UI.Button=undefined;\r\n    @UI.UIMarkPath('RootCanvas/btn_Set')\r\n    public btn_Set: UI.Button=undefined;\r\n    @UI.UIMarkPath('RootCanvas/btn_jump')\r\n    public btn_jump: UI.StaleButton=undefined;\r\n    \r\n\r\n \r\n\tprotected onAwake() {\r\n\t\tthis.btn_cube.onClicked.add(()=>{\r\n\t\t\t \r\n\t\t})\r\n\tthis.btn_cone.onClicked.add(()=>{\r\n\t\t\t \r\n\t\t})\r\n\tthis.btn_sphere.onClicked.add(()=>{\r\n\t\t\t \r\n\t\t})\r\n\tthis.btn_Set.onClicked.add(()=>{\r\n\t\t\t \r\n\t\t})\r\n\t\r\n\t}\r\n\t \r\n }\r\n ",
    "\uFEFF\r\n@Core.Class\r\nexport default class NewScript extends Core.Script {\r\n\r\n\t/** \u5F53\u811A\u672C\u88AB\u5B9E\u4F8B\u540E\uFF0C\u4F1A\u5728\u7B2C\u4E00\u5E27\u66F4\u65B0\u524D\u8C03\u7528\u6B64\u51FD\u6570 */\r\n\tprotected onStart(): void {\r\n\r\n\t}\r\n\r\n\t/** \r\n\t * \u6BCF\u5E27\u88AB\u6267\u884C,\u4E0E\u4E0A\u4E00\u5E27\u7684\u5EF6\u8FDF dt \u79D2\r\n\t * \u6B64\u51FD\u6570\u6267\u884C\u9700\u8981\u5C06this.bUseUpdate\u8D4B\u503C\u4E3Atrue\r\n\t */\r\n\tprotected onUpdate(dt: number): void {\r\n\r\n\t}\r\n\r\n\t/** \u811A\u672C\u88AB\u9500\u6BC1\u65F6\u6700\u540E\u4E00\u5E27\u6267\u884C\u5B8C\u8C03\u7528\u6B64\u51FD\u6570 */\r\n\tprotected onDestroy(): void {\r\n\r\n\t}\r\n\r\n}\r\n",
    "\uFEFF\r\n@Core.Class\r\nexport default class test extends Core.Script {\r\n\r\n\t@Core.Property()\r\n\tprivate preloadAssets: string = \"21586,21588,21592,23775\";\r\n\r\n\t/** \u5F53\u811A\u672C\u88AB\u5B9E\u4F8B\u540E\uFF0C\u4F1A\u5728\u7B2C\u4E00\u5E27\u66F4\u65B0\u524D\u8C03\u7528\u6B64\u51FD\u6570 */\r\n\tprotected onStart(): void {\r\n\t\tCore.GameObject.spawnGameObject(\"21586\");\r\n\t}\r\n\r\n\t/** \r\n\t * \u6BCF\u5E27\u88AB\u6267\u884C,\u4E0E\u4E0A\u4E00\u5E27\u7684\u5EF6\u8FDF dt \u79D2\r\n\t * \u6B64\u51FD\u6570\u6267\u884C\u9700\u8981\u5C06this.bUseUpdate\u8D4B\u503C\u4E3Atrue\r\n\t */\r\n\tprotected onUpdate(dt: number): void {\r\n\r\n\t}\r\n\r\n\t/** \u811A\u672C\u88AB\u9500\u6BC1\u65F6\u6700\u540E\u4E00\u5E27\u6267\u884C\u5B8C\u8C03\u7528\u6B64\u51FD\u6570 */\r\n\tprotected onDestroy(): void {\r\n\r\n\t}\r\n\r\n}\r\n",
    "import { Class } from \"../Tools/Tools\";\r\n\r\nconst EVENT_RANK_REP = \"EVENT_RANK_REP\";\r\nconst EVENT_RANK_REQ = \"EVENT_RANK_REQ\";\r\n\r\n/**\r\n * \u6392\u884C\u699C\u5DE5\u5177\u7C7B\uFF0C\u6CDB\u578B\u53C2\u6570\u4E3A\u6BCF\u6761\u6392\u884C\u6240\u7528\u7684\u6570\u636E\u7C7B\u578B\r\n */\r\nexport class RankLogic<T> {\r\n    /**\u662F\u5426\u662F C/S \u6570\u636E\u4F20\u8F93\u7ED3\u6784 */\r\n    private readonly C2S: boolean = true;\r\n    /**\u4F7F\u7528\u7684\u4F20\u8F93\u7C7B\u540D\u4F5C\u4E3A\u4E8B\u4EF6\u76D1\u542C\u6807\u5FD7\u7B26 */\r\n    private readonly infoTypeName: string = null;\r\n    /**\u6392\u5E8F\u4F9D\u636E */\r\n    private readonly sortBasis: [string, number, boolean][] = []\r\n\r\n    constructor(infoName: Class<T>, isC2S: boolean = true) {\r\n        this.infoTypeName = infoName.name;\r\n        this.C2S = isC2S;\r\n        this.clientInit();\r\n        this.serverInit();\r\n    }\r\n\r\n    /**\u83B7\u5F97\u6392\u884C\u699C\u6570\u636E\u540E\u5E72\u7684\u4E8B\u60C5 */\r\n    private uiAct: (infos: T[]) => void = null;\r\n    /**\u88AB\u8BF7\u6C42\u540E\u5982\u4F55\u521B\u5EFA\u6392\u884C\u699C\u6570\u636E\u7684\u51FD\u6570 */\r\n    private dataAct: () => T[] = null;\r\n\r\n    /**\u6CE8\u518C \u6536\u5230\u6392\u884C\u699C\u540E\u6267\u884C\u6392\u884C\u6570\u636E */\r\n    private clientInit() {\r\n        let eventFunc = this.C2S ? Events.addServerListener : Events.addLocalListener;\r\n\r\n        eventFunc(`${EVENT_RANK_REP}_${this.infoTypeName}`, (infos: T[]) => {\r\n            if (this.uiAct) {\r\n                if (this.sortBasis.length > 0) {\r\n                    type kt = keyof T;\r\n                    infos.sort((a, b) => {\r\n                        for (let i = 0; i < this.sortBasis.length; i++) {\r\n                            //\u4F9D\u636E[i]\u7684\u5B57\u6BB5\u540D\u6392\u5E8F\r\n                            const isUp = this.sortBasis[i][2];\r\n                            const ka = this.sortBasis[i][0] as kt;\r\n                            const kb = this.sortBasis[i][0] as kt;\r\n                            if (a[ka] == null || a[ka] == undefined || b[kb] == null || b[kb] == undefined) { continue; }//\u4E0D\u5B58\u5728\u8FD9\u4E2A\u5B57\u6BB5\r\n                            if (a[ka] == b[kb]) { continue; }//\u5B57\u6BB5\u503C\u76F8\u7B49\r\n                            let [na, nb] = [Number(a[ka]), Number(b[kb])];\r\n                            if (Number.isNaN(na) || Number.isNaN(nb)) { continue; }//\u65E0\u6CD5\u8F6C\u4E3A\u6570\u5B57\r\n\r\n                            //\u6700\u540E\uFF0C\u6BD4\u8F83\u5B57\u6BB5\u7684\u503C\uFF0C\u8FDB\u884C\u6392\u5E8F,\u6839\u636E\u5B57\u6BB5\u662F\u5426\u4E3A\u66F4\u9AD8\u503C\u9009\u62E9\u5F80\u524D\u8FD8\u662F\u5F80\u540E\u6392\r\n                            return isUp ? nb - na : na - nb;\r\n                        }\r\n\r\n                        return 0\r\n                    })\r\n                }\r\n                this.uiAct(infos);\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\u6CE8\u518C \u6536\u5230\u8BF7\u6C42\u540E\u521B\u5EFA\u5E76\u53D1\u9001\u6392\u884C\u6570\u636E */\r\n    private serverInit() {\r\n        if (this.C2S) {\r\n            Events.addClientListener(`${EVENT_RANK_REQ}_${this.infoTypeName}`, (player) => {\r\n                this.sendRank(player);\r\n            })\r\n        }\r\n        else {\r\n            Events.addLocalListener(`${EVENT_RANK_REQ}_${this.infoTypeName}`, () => {\r\n                let data: T[] = this.dataAct ? this.dataAct() : [];\r\n                Events.dispatchLocal(`${EVENT_RANK_REP}_${this.infoTypeName}`, data);\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    /**[client] \u4E3B\u52A8\u8BF7\u6C42\u5237\u65B0\u6392\u884C\u699C */\r\n    public requestRank(): void {\r\n        if (Util.SystemUtil.isClient()) {\r\n            if (this.C2S) {\r\n                Events.dispatchToServer(`${EVENT_RANK_REQ}_${this.infoTypeName}`);\r\n            }\r\n            else {\r\n                Events.dispatchLocal(`${EVENT_RANK_REQ}_${this.infoTypeName}`);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    /**\u4E3B\u52A8\u53D1\u9001\u6392\u884C\u699C\u6570\u636E\u7ED9\u5BF9\u5E94\u5BA2\u6237\u7AEF,C2C\u65F6\u4E3B\u52A8\u53D1\u9001\u7ED9\u81EA\u8EAB\uFF0Cpid\u65E0\u6548 */\r\n    public sendRank(pid: number | Gameplay.Player, data?: T[]) {\r\n        if (!data) {\r\n            data = this.dataAct ? this.dataAct() : [];\r\n        }\r\n        if (data.length <= 0) {\r\n            return;\r\n        }\r\n        if (this.C2S && Util.SystemUtil.isServer()) {\r\n            let p: Gameplay.Player = (pid instanceof Gameplay.Player) ? pid : Gameplay.getPlayer(pid);\r\n\r\n            Events.dispatchToClient(p, `${EVENT_RANK_REP}_${this.infoTypeName}`, data);\r\n        }\r\n        else {\r\n            Events.dispatchLocal(`${EVENT_RANK_REP}_${this.infoTypeName}`, data);\r\n        }\r\n    }\r\n\r\n    /**[server] \u4EC5\u670D\u52A1\u5668\u8C03\u7528\uFF0C\u7ED9\u6240\u6709\u73A9\u5BB6\u53D1\u9001\u6392\u884C\u6570\u636E*/\r\n    public sendAllRank(data?: T[]) {\r\n        if (!this.C2S || Util.SystemUtil.isClient()) { return; }\r\n\r\n        if (!data) {\r\n            data = this.dataAct ? this.dataAct() : [];\r\n        }\r\n\r\n        Gameplay.getAllPlayers().forEach(p => {\r\n            Events.dispatchToClient(p, `${EVENT_RANK_REP}_${this.infoTypeName}`, data);\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\u8BBE\u7F6E\u5BA2\u6237\u7AEF\u6536\u5230\u6392\u884C\u699C\u6570\u636E\u540E\u7684\u6240\u4F5C\u884C\u4E3A */\r\n    public setClientAction(action: (infos: T[]) => void) {\r\n        this.uiAct = action;\r\n    }\r\n\r\n    /**\u8BBE\u7F6E\u670D\u52A1\u5668\u7684\u6392\u884C\u699C\u6570\u636E\u751F\u6210\u51FD\u6570 */\r\n    public setCreateData(action: () => T[]) {\r\n        this.dataAct = action;\r\n    }\r\n\r\n    /**\u8BBE\u7F6E\u6392\u5E8F\u4F9D\u636E [\u5B57\u6BB5\u540D,\u4F18\u5148\u7EA7],[\u5B57\u6BB5\u540D,\u4F18\u5148\u7EA7,\u6B64\u503C\u66F4\u9AD8\u662F\u5F80\u524D\u6392] \u3002\u3002\u3002 */\r\n    public setSortBasis(...basis: [string, number, boolean][]) {\r\n        this.sortBasis.length = 0;\r\n        basis.sort((a, b) => {\r\n            return b[1] - a[1];\r\n        })\r\n        this.sortBasis.push(...basis);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n",
    "\r\n/**\u5956\u52B1\u6536\u53D1\u5DE5\u5177 */\r\nexport namespace rewardLogic {\r\n    const EVENT_RECEIVE_REWARD = \"EVENT_RECEIVE_REWARD\";\r\n    let getLog: boolean = false;\r\n    type rewardAct = (pid: number, items: unknown[]) => void;\r\n    let actions_C: Map<number, rewardAct[]> = new Map();\r\n    let actions_S: Map<number, rewardAct[]> = new Map();\r\n\r\n    /**[C/S] \u6CE8\u518C\u9886\u53D6\u5956\u52B1\u65F6\u6267\u884C\u7684\u4E8B\u60C5 */\r\n    export function setReceiveFunc(cmd: number, act: rewardAct) {\r\n        let map = Util.SystemUtil.isClient() ? actions_C : actions_S;\r\n\r\n        if (!map.has(cmd)) {\r\n            map.set(cmd, []);\r\n        }\r\n        map.get(cmd).push(act)\r\n    }\r\n\r\n    /**[C/S] \u521D\u59CB\u5316*/\r\n    export function initRewardAct(log: boolean = false) {\r\n        if (Util.SystemUtil.isClient()) {\r\n            Events.addServerListener(EVENT_RECEIVE_REWARD, doRewardAction)\r\n        }\r\n        getLog = log;\r\n    }\r\n\r\n    /**\r\n     * [Server] \u53D1\u653E\u5956\u52B1\r\n     * @param pid \u53D1\u7ED9\u8C01\r\n     * @param cmd \u6536\u5230\u540E\u6267\u884C\u54EA\u79CD\u64CD\u4F5C\r\n     * @param items \u5177\u4F53\u5956\u52B1\u5185\u5BB9\u7EC4\r\n     */\r\n    export function sendReward(pid: number, cmd: number, ...items: unknown[]) {\r\n        if (Util.SystemUtil.isClient()) { return; }\r\n        //\u901A\u77E5\u81EA\u8EAB\r\n        doRewardAction(pid, cmd, items);//\u670D\u52A1\u5668\u672C\u8EAB\u7684\u5956\u52B1\u9886\u53D6\r\n        //\u7136\u540E\u901A\u77E5\u5BA2\u6237\u7AEF\r\n        Events.dispatchToClient(Gameplay.getPlayer(pid), EVENT_RECEIVE_REWARD, pid, cmd, items);\r\n\r\n    }\r\n\r\n    function doRewardAction(pid: number, ty: number, rws: unknown[]) {\r\n        if (getLog) {\r\n            console.log(`\\n${pid} \u6536\u5230\u5956\u52B1\u7C7B\u578B ${ty} :\\n ${JSON.stringify(rws)}`);\r\n        }\r\n        let map = Util.SystemUtil.isClient() ? actions_C : actions_S;\r\n        if (map.has(ty)) {\r\n            map.get(ty).forEach(act => {\r\n                act(pid, rws);\r\n            })\r\n        }\r\n    }\r\n\r\n}",
    "\uFEFF/**\u4E8B\u4EF6\u88C5\u9970\u5668 */\r\nexport namespace EventTools {\r\n\r\n\texport enum ECallerLoc {\r\n\t\t/**\u672C\u5730(\u4E0D\u4F1A\u53D7\u5176\u4ED6\u7AEF\u901A\u77E5\u8FC7\u6765\u7684\u8C03\u7528) */\r\n\t\tlocal = 0,\r\n\t\t/**\u4EC5\u5BA2\u6237\u7AEF\u8C03\u670D\u52A1\u5668\u89E6\u53D1 */\r\n\t\tserver = 1,\r\n\t\t/**\u4EC5\u670D\u52A1\u5668\u8C03\u5BA2\u6237\u7AEF\u89E6\u53D1 */\r\n\t\tclient = 2,\r\n\t}\r\n\r\n\t/**\u6267\u884C\u8005,\u4E8B\u4EF6\u51FD\u6570\uFF0C\u662F\u5426\u4E3A\u670D\u52A1\u5668\u51FD\u6570 */\r\n\ttype fty = [getThisArg, (...arg: any[]) => any, ECallerLoc]\r\n\ttype getThisArg = any\r\n\tconst locEvemtMap: Map<string, fty[]> = new Map();\r\n\tconst serverEvemtMap: Map<string, fty[]> = new Map();\r\n\tconst clientEvemtMap: Map<string, fty[]> = new Map();\r\n\tconst noThisObj: Map<string, any> = new Map();//\u6CA1\u6709\u4F20\u5165\u4F7F\u7528\u8005\u65F6\u4F7F\u7528\u7684\u9ED8\u8BA4\u5BF9\u8C61\r\n\r\n\t/**\r\n\t * \u9644\u52A0\u6210\u5458\u51FD\u6570\u4E0A\uFF0C\u81EA\u52A8\u6CE8\u518C\u4E00\u4E2A\u672C\u5730\u4E8B\u4EF6\r\n\t * @param eventName \u4E8B\u4EF6\u540D\r\n\t * @param space \u4F5C\u7528\u57DF:0\u672C\u5730  1\u670D\u52A1\u5668  2\u5BA2\u6237\u7AEF\r\n\t * @param thisObj \u8C03\u7528\u8005,\u5982\u679C\u5728\u7C7B\u91CC\u9762\u4F20this\u4E0D\u662F\u67D0\u4E2A\u5B9E\u4F8B\uFF0C\u800C\u662F\u7C7B\u539F\u578B\u5BF9\u8C61\uFF0C\u9700\u8981\u4F20\u5355\u4F8B\u83B7\u53D6\u65B9\u5F0F,\u4F8B\u5982 ()=>{return xxx.instance} \r\n\t * \u4E5F\u53EF\u4EE5\u4EC0\u4E48\u4E5F\u4E0D\u4F20\uFF0C\u7136\u540E\u5728\u8FD0\u884C\u65F6\u903B\u8F91\u8C03\u7528 setNoTargetEvent \u8BBE\u7F6E\u540C\u540D\u4E8B\u4EF6\u7684\u8C03\u7528\u8005\r\n\t * @returns \r\n\t */\r\n\texport function setEvent(eventName: string, space: ECallerLoc = ECallerLoc.local, thisObj?: getThisArg) {\r\n\t\treturn function (target: any, propertyRey: string, description: PropertyDescriptor) {\r\n\t\t\tif (description.value && typeof description.value === \"function\") {//\u662F\u4E00\u4E2A\u51FD\u6570\r\n\t\t\t\tlet m: Map<string, fty[]> = null;\r\n\t\t\t\tswitch (space) {\r\n\t\t\t\t\tcase ECallerLoc.local: m = locEvemtMap; break;\r\n\t\t\t\t\tcase ECallerLoc.server: m = serverEvemtMap; break;\r\n\t\t\t\t\tcase ECallerLoc.client: m = clientEvemtMap; break;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!m.has(eventName)) {\r\n\t\t\t\t\tm.set(eventName, []);\r\n\t\t\t\t}\r\n\t\t\t\tlet info: fty = [thisObj, description.value, space];\r\n\t\t\t\tm.get(eventName).push(info);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * \u8BBE\u7F6E\u6CA1\u6709\u5199\u6267\u884C\u8005\u65F6\u4F7F\u7528\u7684\u9ED8\u8BA4\u6267\u884C\u8005\r\n\t * @param eventName \r\n\t * @param target \r\n\t */\r\n\texport function setNoTargetEvent(eventName: string, target: any) {\r\n\t\tnoThisObj.set(eventName, target ? target : {});\r\n\t}\r\n\t/**\r\n\t * \u6267\u884C\u4E8B\u4EF6\r\n\t * @param eventName \u4E8B\u4EF6\u540D\r\n\t * @param thisObj \u6267\u884C\u8005\r\n\t * @param args \u53C2\u6570\r\n\t */\r\n\texport function callEvent(eventName: string, ...args: any[]) {\r\n\t\tcallEvents(locEvemtMap.get(eventName), eventName, ...args);\r\n\r\n\t\tlet csMap = Util.SystemUtil.isServer() ? serverEvemtMap.get(eventName) : clientEvemtMap.get(eventName)\r\n\t\tcallEvents(csMap, eventName, ...args)\r\n\r\n\r\n\t\tif (Util.SystemUtil.isServer()) {//\u672C\u5730\u7B97\u670D\u52A1\u5668\r\n\t\t\tif (clientEvemtMap.has(eventName)) {//\u5BA2\u6237\u7AEF\u6709\u9700\u8981\u6267\u884C\u7684\r\n\t\t\t\tEvents.dispatchToAllClient(EVENT_CALLCLIENT, eventName, ...args);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Util.SystemUtil.isClient()) {\r\n\t\t\tif (serverEvemtMap.has(eventName)) {\r\n\t\t\t\tEvents.dispatchToServer(EVENT_CALLSERVER, eventName, ...args);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction callEvents(eInfo: fty[], eventName: string, ...args: any[]) {\r\n\t\tif (eInfo) {\r\n\t\t\tfor (const eventAvt of eInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!eventAvt[0]) {//\u6CA1\u6709\u503C\uFF0C\u4F7F\u7528\u7A7A\u5BF9\u8C61\u6267\u884C\r\n\t\t\t\t\t\tlet nullObj = noThisObj.has(eventName) ? noThisObj.get(eventName) : {};\r\n\t\t\t\t\t\teventAvt[1].call(nullObj, ...args);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (typeof eventAvt[0] === \"function\") {\r\n\t\t\t\t\t\t\teventAvt[1].call(eventAvt[0](), ...args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\teventAvt[1].call(eventAvt[0], ...args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(\"eventTool error:\", error.stack)\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tconst EVENT_CALLSERVER: string = \"SUPER_EVENTTOOL_CALLSERVER\";\r\n\tconst EVENT_CALLCLIENT: string = \"SUPER_EVENTTOOL_CALLCLIENT\";\r\n\texport function initEventRPC() {\r\n\t\tif (Util.SystemUtil.isServer()) {//\u670D\u52A1\u5668\u76D1\u542C\u5BA2\u6237\u7AEF\u4E8B\u4EF6\r\n\t\t\tEvents.addClientListener(EVENT_CALLSERVER, clientToServerCallEvent)\r\n\t\t}\r\n\t\tif (Util.SystemUtil.isClient()) {\r\n\t\t\tEvents.addServerListener(EVENT_CALLCLIENT, serverToClientCallEvent)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction clientToServerCallEvent(player, ...args: any[]) {\r\n\t\tconst [eventName, params] = [args[0], args.slice(1)];\r\n\t\tcallEvents(serverEvemtMap.get(eventName), eventName, ...params);\r\n\r\n\t}\r\n\tfunction serverToClientCallEvent(...args: any) {\r\n\t\tconst [eventName, params] = [args[0], args.slice(1)];\r\n\t\tcallEvents(clientEvemtMap.get(eventName), eventName, ...params);\r\n\t}\r\n}\r\n",
    "\r\nexport class Action extends Extension.FunctionUtil.Action { };\r\nexport class Action1<T> extends Extension.FunctionUtil.Action1<T>{ };\r\nexport class Action2<T, U> extends Extension.FunctionUtil.Action2<T, U>{ };\r\nexport class Action3<T, U, V> extends Extension.FunctionUtil.Action3<T, U, V>{ };\r\nexport class StringUtil extends Extension.StringUtil { };\r\n\r\n\r\nexport let UIMgr = Extension.UIManager.instance;\r\nexport function UIMiddleShow(UIObj: UI.UIBehaviour, ...params: any[]) {\r\n    console.log(\"\u6253\u5F00UI\u5230\u4E2D\u5C42:\" + UIObj.constructor.name)\r\n    return UIMgr.showUI(UIObj, Extension.UILayerMiddle, ...params);\r\n}\r\nexport function UITopShow(UIObj: UI.UIBehaviour, ...params: any[]) {\r\n    console.log(\"\u6253\u5F00UI\u5230\u9876\u5C42:\" + UIObj.constructor.name)\r\n    return UIMgr.showUI(UIObj, Extension.UILayerTop, ...params);\r\n}\r\n\r\nexport function UICreate<T extends UI.UIBehaviour>(PanelClass: { new(): T; }, parent?: UI.Canvas): T {\r\n    let ui: T = UIMgr.create(PanelClass);\r\n    if (parent) {\r\n        parent.addChild(ui.uiObject);\r\n    }\r\n    return ui;\r\n}\r\nexport function UIIsShow(UIObj: UI.UIBehaviour) {\r\n    return UIMgr.isShow(UIObj);\r\n}\r\nexport function UIHide(UIObj: UI.UIBehaviour) {\r\n    UIMgr.hideUI(UIObj);\r\n}\r\n\r\n//\u9009\u9879\u5361\u7EC4\r\nexport class TabGroup<T extends { onClicked: Common.MulticastDelegate<() => void> }> {\r\n    private tabArr: Array<T>;\r\n    private selectCallBack: (index: number) => void;\r\n    private selectChecker: (index: number) => boolean;//\u68C0\u6D4B\u662F\u5426\u53EF\u4EE5\u5207\u6362\r\n    private tabStyleHandle: (btn: T, isSelect: boolean) => void;//\u8BBE\u7F6E\u6807\u7B7E\u7684\u6837\u5F0F\u65B9\u6CD5\r\n    private _currentIndex: number = -1;\r\n    /**\r\n     * \u6784\u9020\r\n     * @param tabArr \u6807\u7B7E\u7684\u6309\u94AE\u6570\u7EC4\r\n     */\r\n    constructor(tabArr: Array<T>) {\r\n        this.tabArr = tabArr;\r\n    }\r\n    /**\r\n     * \u521D\u59CB\u5316\r\n     * @param tabStyleHandle \u8BBE\u7F6E\u6807\u7B7E\u7684\u6837\u5F0F\u65B9\u6CD5\uFF08\u65B9\u6CD5\u53C2\u6570\uFF1A\u6309\u94AE\uFF09\r\n     * @param selectCallBack \u9009\u62E9\u6807\u7B7E\u7684\u56DE\u8C03\u65B9\u6CD5\r\n     * @param thisArg \u57DF\r\n     * @param defaultIndex \u9ED8\u8BA4\u9009\u62E9\u7684\u6807\u7B7E\u7D22\u5F15\r\n     */\r\n    public init(tabStyleHandle: (btn: T, isSelect: boolean) => void, selectCallBack: (index: number) => void, thisArg: any, defaultIndex: number = 0) {\r\n        this.tabStyleHandle = tabStyleHandle.bind(thisArg);\r\n        this.selectCallBack = selectCallBack.bind(thisArg);\r\n        for (let i = 0; i < this.tabArr.length; i++) {\r\n            this.tabArr[i].onClicked.add(() => {\r\n                this.select(i);\r\n            });\r\n        }\r\n        this.select(defaultIndex);\r\n    }\r\n    /**\r\n     * \u8BBE\u7F6E\u6807\u7B7E\u662F\u5426\u53EF\u9009\u62E9\u7684\u5224\u65AD\u65B9\u6CD5\r\n     * @param selectChecker \u5224\u65AD\u65B9\u6CD5\r\n     * @param thisArg \u57DF\r\n     */\r\n    public setSelectChecker(selectChecker: (index: number) => boolean, thisArg: any) {\r\n        this.selectChecker = selectChecker.bind(thisArg);\r\n    }\r\n    /**\r\n     * \u8BBE\u7F6E\u5F53\u524D\u7684\u6807\u7B7E\r\n     * @param index \u6807\u7B7E\u7D22\u5F15\r\n     * @param ignoreSame \u662F\u5426\u5FFD\u7565\u76F8\u540C\u7D22\u5F15\r\n     * @returns \u662F\u5426\u6210\u529F\r\n     */\r\n    public select(index: number, ignoreSame: boolean = true): boolean {\r\n        if (ignoreSame && this._currentIndex == index) return;\r\n        if (this.selectChecker != null && !this.selectChecker(index)) {\r\n            return false;\r\n        }\r\n        this._currentIndex = index;\r\n        this.refreshTabs();\r\n        this.selectCallBack(index);\r\n        return true;\r\n    }\r\n    /**\u5F53\u524D\u9009\u62E9\u7684\u6807\u7B7E\u7D22\u5F15 */\r\n    public get currentIndex(): number {\r\n        return this._currentIndex;\r\n    }\r\n    //\u5237\u65B0\u6240\u6709\u4FBF\u7B7E\u7684\u663E\u793A\u6837\u5F0F\r\n    private refreshTabs() {\r\n        for (let i = 0; i < this.tabArr.length; i++) {\r\n            this.tabStyleHandle(this.tabArr[i], i == this.currentIndex);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n* \u6839\u636E\u7C7B\u578B\u548C\u8DEF\u5F84\u67E5\u627E\u5B50\u5BF9\u8C61\r\n* @param ChildType \u5B50\u5BF9\u8C61\u7684\u7C7B\u578B\r\n* @param path \u8282\u70B9\u8DEF\u5F84\r\n* @returns \u5B50\u8282\u70B9\u5BF9\u8C61\r\n*/\r\nexport function findChildByPath<T extends UI.Widget>(canvas: UI.Canvas, ChildType: { new(...param: any[]): T }, path: string): T {\r\n    let child = canvas.findChildByPath(path);\r\n    if (child == null) {\r\n        console.error('CanvasController: The child was not found!  path=' + path);\r\n        return null;\r\n    }\r\n    let widget: unknown = child as T;//ChildType.get(child);\r\n    if (ChildType.name == UI.Button.name || ChildType.name == UI.Button.name) {\r\n        (widget as any).setFocusable(false);//\u8BBE\u7F6E\u4E86\u8FD9\u4E2A \u6309\u94AE\u5C31\u4E0D\u4F1A\u6309\u4E0B\u540E\u81EA\u52A8\u629B\u51FA\u62AC\u8D77\u4E8B\u4EF6\u4E86\r\n        (widget as any).setTouchMethod(UI.ButtonTouchMethod.PreciseTap);//\u8BBE\u7F6E\u4E86\u8FD9\u4E2A\u540E \u6ED1\u52A8\u5217\u8868\u91CC\u7684\u6309\u94AE\u4E0D\u7528\u518D\u5355\u72EC\u8BBE\u7F6E\u4E86\r\n    }\r\n    return widget as T;\r\n}\r\n\r\n/**\r\n * \u6839\u636E\u7C7B\u578B\uFF0C\u83B7\u53D6\u753B\u5E03\u4E0B\u7684\u6240\u6709\u6B64\u7C7B\u578B\u7684\u5BF9\u8C61\r\n * @param canvas \u753B\u5E03\r\n * @param ObjClass \u7C7B\u578B\u7C7B\u578B\r\n * @returns \u5BF9\u8C61\u6570\u7EC4\r\n */\r\nexport function getCanvasChildren<T extends UI.Widget>(canvas: UI.Canvas, ObjClass: { new(): T }): Array<T> {\r\n    let arr = [];\r\n    if (canvas == null) return arr;\r\n    let childNum: number = canvas.getChildrenCount();\r\n    for (let i = 0; i < childNum; i++) {\r\n        let child: UI.Widget = canvas.getChildAt(i);\r\n        let obj: T = widgetToUIElement(ObjClass, child);\r\n        if (obj != null) {\r\n            arr.push(obj);\r\n        }\r\n    }\r\n    return arr;\r\n}\r\n\r\n\r\n\r\n/**\r\n* \u5C06UI\u8282\u70B9\u8F6C\u6362\u4E3A\u5B9E\u9645\u7684UI\u5143\u7D20\u5BF9\u8C61\r\n* @param EleClass UI\u5143\u7D20\u7684\u7C7B\r\n* @param widget \u8282\u70B9\u5BF9\u8C61\r\n* @returns UI\u5143\u7D20\u5BF9\u8C61\r\n*/\r\nexport function widgetToUIElement<T extends UI.Widget>(EleClass: { new(): T }, widget: UI.Widget): T {\r\n    if (!(widget instanceof EleClass)) {\r\n        return null;\r\n    }\r\n    let element: T = (widget) as T;\r\n    if (element == null || !(widget instanceof EleClass)) return null;\r\n    if (element instanceof UI.Button) {\r\n        let btn = element;\r\n        btn.focusable = (false);//\u8BBE\u7F6E\u4E86\u8FD9\u4E2A \u6309\u94AE\u5C31\u4E0D\u4F1A\u6309\u4E0B\u540E\u81EA\u52A8\u629B\u51FA\u62AC\u8D77\u4E8B\u4EF6\u4E86\r\n        btn.touchMethod = (UI.ButtonTouchMethod.PreciseTap);//\u4E0D\u8BBE\u7F6E\u8FD9\u4E2A\uFF0C\u6ED1\u52A8\u5217\u8868\u91CC\u7684\u6309\u94AE\u4F1A\u963B\u6B62\u6ED1\u52A8\r\n        if (btn.visibility == UI.SlateVisibility.HitTestInvisible || btn.visibility == UI.SlateVisibility.SelfHitTestInvisible) {\r\n            btn.visibility = (UI.SlateVisibility.Visible);//\u4E0D\u8BBE\u7F6EVisible\uFF0C\u6309\u94AE\u5C31\u65E0\u6CD5\u70B9\u51FB\r\n        }\r\n    }\r\n    return element as T;\r\n}",
    "\uFEFF/**\u540C\u6B65\u7ED9\u5BA2\u6237\u7AEF\u7684\u67D0\u4E2A\u7269\u4F53\u6570\u636E */\r\nexport type syncInfo = {\r\n\tuuid: number,\r\n\tmyInfo: {\r\n\t\t[typeKey: number]: any\r\n\t}\r\n}\r\n\r\n/**\u573A\u666F\u7269\u4F53\u540C\u6B65\u5DE5\u5177 */\r\nexport class SceneObjectSync {\r\n\tprivate static _ins: SceneObjectSync = null;\r\n\tpublic static get instance(): SceneObjectSync {\r\n\t\tif (!SceneObjectSync._ins) {\r\n\t\t\tSceneObjectSync._ins = new SceneObjectSync();\r\n\t\t}\r\n\t\treturn SceneObjectSync._ins;\r\n\t}\r\n\r\n\tprivate readonly EventSyncObjects: string = \"EventSyncObjects\";//\u6D88\u606F\u5B57\u7B26\r\n\tprivate _showTask: syncInfo[] = null;//\u5BA2\u6237\u7AEF\u6BCF\u5E27\u9700\u8981\u5B8C\u6210\u7684\u5C55\u793A\u4EFB\u52A1\r\n\tprivate _showFuncs: Map<number, (info: syncInfo) => void> = null;//\u5982\u679C\u53BB\u64CD\u4F5C\u8FD9\u4E2A\u540C\u6B65\u4E0B\u6765\u7684\u4FE1\u606F\r\n\r\n\r\n\r\n\tprivate _serverObjs: Map<number, syncInfo> = null;//\u670D\u52A1\u5668\u4E0A\u5B58\u7684\u7269\u4F53\u4FE1\u606F\r\n\tprivate _sendTask: Map<number, Map<number, syncInfo>> = null;//\u670D\u52A1\u5668\u7684\u5F85\u53D1\u9001\u4EFB\u52A1\u7EC4\r\n\tprivate _attrEqualFuncs: Map<number, (a: any, b: any) => boolean> = null;//\u6570\u636E\u6BD4\u5BF9\u65B9\u5F0F\r\n\tprivate readonly _sendLength: number = 35;//\u6BCF\u6B21\u540C\u6B65\u7ED9\u5BA2\u6237\u7AEF\u7684\u6570\u636E\u5355\u4F4D\u6570\u91CF\r\n\r\n\t/**\u521D\u59CB\u5316 */\r\n\tpublic init() {\r\n\t\tif (Util.SystemUtil.isClient()) {\r\n\t\t\tthis._showTask = [];\r\n\t\t\tthis._showFuncs = new Map();\r\n\t\t\tEvents.addServerListener(this.EventSyncObjects, this.onSyncObject.bind(this));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._serverObjs = new Map();\r\n\t\t\tthis._sendTask = new Map();\r\n\t\t\tthis._attrEqualFuncs = new Map();\r\n\t\t\t//\u6CE8\u518C \u4EFB\u610F\u73A9\u5BB6\u79BB\u5F00\u540E\uFF0C\u540C\u6B65\u4EFB\u52A1\u6E05\u7A7A\r\n\t\t\tEvents.addPlayerLeftListener(p => {\r\n\t\t\t\tthis._sendTask.delete(p.getPlayerID());\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**[client] \u6536\u5230\u670D\u52A1\u5668\u540C\u6B65\u4FE1\u606F\u540E\u5982\u4F55\u53BB\u6267\u884C\u7684\u65B9\u5F0F */\r\n\tpublic setSyncMethod(type: number, func: (info: syncInfo) => void) {\r\n\t\tthis._showFuncs.set(type, func);\r\n\t}\r\n\r\n\t/**[client] \u6536\u5230\u670D\u52A1\u5668\u53D1\u4E0B\u6765\u7684\u540C\u6B65\u7269\u4F53\u4FE1\u606F */\r\n\tprivate onSyncObject(infos: syncInfo[]) {\r\n\t\tthis._showTask.push(...infos);\r\n\t}\r\n\r\n\r\n\r\n\t/**[C/S] \u63D0\u4F9B\u5916\u90E8\uFF0C\u5904\u7406\u7269\u4F53\u53D8\u5316\u4EFB\u52A1\u7EC4 */\r\n\tpublic update(dt: number) {\r\n\t\tif (Util.SystemUtil.isClient()) {\r\n\t\t\tthis.clientUpdate(dt);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.serverUpdate(dt);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\u5BA2\u6237\u7AEF\u7684\u8868\u73B0\u7269\u4F53\u53D8\u5316\u4EFB\u52A1 */\r\n\tprivate clientUpdate(dt: number) {\r\n\t\tif (this._showTask.length > 0) {\r\n\t\t\tconst task = this._showTask.shift();//\u53D6\u51FA\u4E00\u4E2A\u663E\u793A\u4EFB\u52A1\r\n\r\n\t\t\tfor (const k in task.myInfo) {\r\n\t\t\t\tlet doType: number = Number(k);\r\n\t\t\t\tif (this._showFuncs.get(doType)) {//\u6709\u76F8\u5173\u5904\u7406\u51FD\u6570\r\n\t\t\t\t\tthis._showFuncs.get(doType)(task);//\u6267\u884C\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\u670D\u52A1\u5668\u53D1\u9001\u540C\u6B65\u4EFB\u52A1 */\r\n\tprivate serverUpdate(dt: number) {\r\n\t\tif (this._sendTask.size <= 0) { return; }\r\n\r\n\t\tfor (let [pid, v] of this._sendTask) {\r\n\t\t\tif (v.size <= 0) {\r\n\t\t\t\tthis._sendTask.delete(pid);\r\n\t\t\t}\r\n\t\t\telse {\r\n\r\n\t\t\t\tlet netPks: syncInfo[] = [];\r\n\t\t\t\tfor (let [uuid, info] of this._sendTask.get(pid)) {\r\n\t\t\t\t\tif (netPks.length >= this._sendLength) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnetPks.push(info);\r\n\t\t\t\t\tthis._sendTask.get(pid).delete(uuid);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet player = Gameplay.getPlayer(pid);\r\n\t\t\t\tif (player) {\r\n\t\t\t\t\tEvents.dispatchToClient(player, this.EventSyncObjects, netPks);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * [server] \u540C\u6B65\u4E00\u4E2A\u670D\u52A1\u5668\u4E0A\u7684\u7269\u4F53\u5757\u5C5E\u6027\u7ED9\u5BA2\u6237\u7AEF()\u521B\u5EFA\u53D1\u9001\u4EFB\u52A1\u5230\u961F\u5217\r\n\t * @param uuid \u7269\u4F53\u670D\u52A1\u5668\u5B9A\u4E49\u7684\u552F\u4E00\u6570\u5B57ID\r\n\t * @param infos \u9700\u8981\u88AB\u540C\u6B65\u7684\u4FE1\u606F\r\n\t * @param pid \u540C\u6B65\u7ED9\u54EA\u4E2A\u73A9\u5BB6ID\uFF0C\u5982\u679C\u6CA1\u6709\u4F1A\u540C\u6B65\u7ED9\u6240\u6709\u73A9\u5BB6\r\n\t * @returns \r\n\t */\r\n\tpublic askClientSync(uuid: number, infos: { [typeKey: number]: any }, pid?: number) {\r\n\t\tif (Util.SystemUtil.isClient()) { return; }\r\n\r\n\t\tif (!this._serverObjs.has(uuid)) {\r\n\t\t\tlet serverData: syncInfo = {\r\n\t\t\t\tuuid: uuid,\r\n\t\t\t\tmyInfo: {}\r\n\t\t\t}\r\n\t\t\tthis._serverObjs.set(uuid, serverData);\r\n\t\t}\r\n\t\tlet netPackage = this._serverObjs.get(uuid);//\u62FF\u5230\u5B58\u50A8\u7684\u6570\u636E\u4FE1\u606F\r\n\r\n\t\tlet haveChange: boolean = false\r\n\t\tfor (const k in infos) {//\u5C06\u4E0D\u540C\u7684\u4E1C\u897F\u8D4B\u503C\u7ED9\u8FD9\u4E2A\u7F51\u7EDC\u540C\u6B65\u5BF9\u8C61\r\n\r\n\t\t\tif (!netPackage.myInfo[k]) {//\u5982\u679C\u4E4B\u524D\u4E0D\u5B58\u5728\r\n\t\t\t\tnetPackage.myInfo[k] = infos[k];\r\n\t\t\t\thaveChange = true;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet kNum = Number(k);\r\n\t\t\tif (this._attrEqualFuncs.get(kNum)) {//\u6709\u81EA\u5B9A\u4E49\u6BD4\u5BF9\u65B9\u5F0F\r\n\t\t\t\tif (!this._attrEqualFuncs.get(kNum)(netPackage.myInfo[k], infos[k])) {//\u5982\u679C\u4E0D\u540C\r\n\t\t\t\t\tnetPackage.myInfo[k] = infos[k];\r\n\t\t\t\t\thaveChange = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {//\u76F4\u63A5\u9ED8\u8BA4\u6BD4\u5BF9\r\n\t\t\t\tif (netPackage.myInfo[k] != infos[k]) {\r\n\t\t\t\t\tnetPackage.myInfo[k] = infos[k];\r\n\t\t\t\t\thaveChange = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!haveChange) { return; }//\u6CA1\u6709\u53D8\u5316\u5219\u4E0D\u6DFB\u52A0\u8FD9\u4E2A\u4EFB\u52A1\r\n\r\n\t\tif (pid) {\r\n\t\t\tif (!this._sendTask.get(pid)) {\r\n\t\t\t\tthis._sendTask.set(pid, new Map());\r\n\t\t\t}\r\n\t\t\tthis._sendTask.get(pid).set(netPackage.uuid, netPackage);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet ps = Gameplay.getAllPlayers();\r\n\t\t\tfor (let p of ps) {\r\n\t\t\t\tif (p) {\r\n\t\t\t\t\tlet _pid = p.getPlayerID();\r\n\t\t\t\t\tif (!this._sendTask.get(_pid)) {\r\n\t\t\t\t\t\tthis._sendTask.set(_pid, new Map());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._sendTask.get(_pid).set(netPackage.uuid, netPackage);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t/**[server] \u8BBE\u7F6E\u5C5E\u6027\u81EA\u5B9A\u4E49\u6BD4\u5BF9\u65B9\u5F0F */\r\n\tpublic setEqualFunc(type: number, func: (a: unknown, b: unknown) => boolean) {\r\n\t\tthis._attrEqualFuncs.set(type, func);\r\n\t}\r\n\r\n\t/**[server] \u7ED9\u67D0\u4E2A\u73A9\u5BB6\u540C\u6B65\u6240\u6709\u7269\u4F53\u5757\u7684\u6240\u6709\u6570\u636E */\r\n\tpublic async askToAllServerObj(pid: number) {\r\n\t\tif (Util.SystemUtil.isClient()) { return; }\r\n\t\tlet player = Gameplay.getPlayer(pid);\r\n\t\tif (!player) { return; }\r\n\r\n\r\n\t\tif (!this._sendTask.get(pid)) {\r\n\t\t\tthis._sendTask.set(pid, new Map());\r\n\t\t}\r\n\t\tfor (let [k, v] of this._serverObjs) {\r\n\t\t\tthis._sendTask.get(pid).set(k, v);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n",
    "/*\r\n * @Author: pengcheng.zhang \r\n * @Date: 2022-03-09 14:35:49 \r\n * @Last Modified by: pengcheng.zhang\r\n * @Last Modified time: 2022-03-30 16:29:27\r\n */\r\n\r\n/**\r\n * \u72B6\u6001\u5B9E\u4F8B\u7C7B\r\n */\r\nclass StateFunc {\r\n    enter?: (data?: unknown) => void\r\n    update?: (dt: number) => void\r\n    exit?: () => void\r\n}\r\n\r\n\r\n/**\r\n * \u72B6\u6001\u673A\r\n */\r\nexport class StateMachine<T> {\r\n    private _states: Map<T, StateFunc>\r\n    private currentState: T\r\n\r\n    constructor() {\r\n        this._states = new Map<T, StateFunc>()\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u518C\u72B6\u6001\r\n     * @param state \u72B6\u6001\r\n     * @param func \u56DE\u8C03\r\n     */\r\n    public register(state: T, func: StateFunc) {\r\n        this._states.set(state, func)\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u518C\u72B6\u6001enter\r\n     * @param state \u72B6\u6001\r\n     * @param func enter\u56DE\u8C03\r\n     */\r\n    public registerEnter(state: T, enter: (data?: unknown) => void) {\r\n        let has = this._states.has(state)\r\n        if (has) {\r\n            let func = this._states.get(state)\r\n            func.enter = enter\r\n        } else {\r\n            let func = new StateFunc()\r\n            func.enter = enter\r\n            this._states.set(state, func)\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \u6CE8\u518C\u72B6\u6001update\r\n    * @param state \u72B6\u6001\r\n    * @param func update\u56DE\u8C03\r\n    */\r\n    public registerUpdate(state: T, update: (dt: number) => void) {\r\n        let has = this._states.has(state)\r\n        if (has) {\r\n            let func = this._states.get(state)\r\n            func.update = update\r\n        } else {\r\n            let func = new StateFunc()\r\n            func.update = update\r\n            this._states.set(state, func)\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \u6CE8\u518C\u72B6\u6001exit\r\n    * @param state \u72B6\u6001\r\n    * @param func exit\u56DE\u8C03\r\n    */\r\n    public registerExit(state: T, exit: () => void) {\r\n        let has = this._states.has(state)\r\n        if (has) {\r\n            let func = this._states.get(state)\r\n            func.exit = exit\r\n        } else {\r\n            let func = new StateFunc()\r\n            func.exit = exit\r\n            this._states.set(state, func)\r\n        }\r\n    }\r\n\r\n    public update(dt): void {\r\n        if (this.currentState) {\r\n            let func = this._states.get(this.currentState)\r\n            func.update && func.update(dt)\r\n        }\r\n    }\r\n\r\n    /**\r\n    * \u5207\u6362\u72B6\u6001\r\n    * @param state \u72B6\u6001\r\n    * @param data \u53C2\u6570\r\n    */\r\n    public switch(state: T, data?: unknown): void {\r\n        if (!this._states.has(state)) {\r\n            return\r\n        }\r\n\r\n        if (this.currentState) {\r\n            let func = this._states.get(this.currentState)\r\n            func.exit && func.exit()\r\n        }\r\n        this.currentState = state\r\n\r\n        let func = this._states.get(state)\r\n        func.enter && func.enter(data)\r\n    }\r\n\r\n    /**\r\n     * \u6E05\u695A\u72B6\u6001\u5217\u8868\r\n     */\r\n    public destroy(): void {\r\n        this._states.clear()\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u5F53\u524D\u72B6\u6001\r\n     * @returns \u5F53\u524D\u72B6\u6001\r\n     */\r\n    public getState(): T {\r\n        return this.currentState\r\n    }\r\n}",
    "export interface Class<T> extends Function {\r\n    new(...args: any[]): T;\r\n}\r\n/**\u4E8C\u53C9\u6811\u7C7B\u578B */\r\nexport type Tree<T> = {\r\n    value: T;\r\n    left: Tree<T>;\r\n    right: Tree<T>;\r\n}\r\n\r\nexport class Tools {\r\n    /**\u5F02\u6B65\u7B49\u5F85(ms) */\r\n    public static sleep(time: number) {\r\n        return new Promise((resolve) => setTimeout(resolve, time));\r\n    }\r\n    /**\u5B57\u7B26\u4E32\u683C\u5F0F\u5316 */\r\n    static FormatString(text: string, ...args: any[]) {\r\n        return text.replace(/\\{(\\d+)\\}/g, (text, index, ...parms) => {\r\n            if (args[index] === 0) return 0;\r\n            return args[index] || \"undefined\";\r\n        });\r\n    }\r\n    /**\u5C06\u603B\u79D2\u6570\u8F6C\u4E3A [\u65F6\uFF0C\u5206\uFF0C\u79D2] \u7684\u6570\u7EC4 */\r\n    static Seconds2Hour(second: number) {\r\n        let minutes = second % 3600;\r\n        let h = Math.floor(second / 3600);\r\n        let m = Math.floor(minutes / 60);\r\n        let s = minutes % 60;\r\n        return [h, m, s];\r\n    }\r\n    /**\u9650\u5B9A\u503C\u5728\u8303\u56F4\u5185 */\r\n    public static RoundNumber(value: number, min: number, max: number) {\r\n        if (value > max) return max;\r\n        if (value < min) return min;\r\n        return value;\r\n    }\r\n    /**\u6570\u5B57\u63D2\u503C */\r\n    public static NumLerp(n1: number, n2: number, lerp: number): number {\r\n        return n1 + (n2 - n1) * lerp;\r\n    }\r\n    /**\u5411\u91CF\u7684\u63D2\u503C\u8BA1\u7B97 */\r\n    public static LerpVector(v1: Type.Vector, v2: Type.Vector, lerp: number): Type.Vector {\r\n        if (lerp > 1) { lerp = 1; }\r\n        if (lerp < 0) { lerp = 0; }\r\n\r\n        let result = new Type.Vector(0, 0, 0);//  .ZERO;\r\n\r\n        result.x = this.NumLerp(v1.x, v2.x, lerp);\r\n        result.y = this.NumLerp(v1.y, v2.y, lerp);\r\n        result.z = this.NumLerp(v1.z, v2.z, lerp);\r\n\r\n        return result;\r\n    }\r\n    /**\r\n    * \u8BA1\u7B97\u4E24\u70B9\u8DDD\u79BB\r\n    * @param from \u521D\u59CB\u5750\u6807\r\n    * @param to \u76EE\u6807\u5750\u6807\r\n    * @param isPlane \u662F\u5426\u53EA\u8BA1\u7B97xy\u7684\u5E73\u9762\u8DDD\u79BB\r\n    * @returns \u8DDD\u79BB\r\n    */\r\n    public static Distance(from: Type.Vector, to: Type.Vector, isPlane: boolean = false): number {\r\n        let x1 = from.x;\r\n        let y1 = from.y;\r\n        let z1 = from.z;\r\n        let x2 = to.x;\r\n        let y2 = to.y;\r\n        let z2 = to.z;\r\n        let distance: number;\r\n        let num = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\r\n        if (!isPlane) {\r\n            num += (z1 - z2) * (z1 - z2);\r\n        }\r\n        distance = Math.sqrt(num);\r\n        if (distance < 0) {\r\n            distance = 0;\r\n        }\r\n        return distance;\r\n    }\r\n    /**\r\n    * \u8BA1\u7B97\u4E24\u70B9\u8DDD\u79BB\u7684\u5E73\u65B9\r\n    * @param from \u521D\u59CB\u5750\u6807\r\n    * @param to \u76EE\u6807\u5750\u6807\r\n    * @returns \u8DDD\u79BB\u7684\u5E73\u65B9\r\n    */\r\n    public static DistancePow(from: Type.Vector, to: Type.Vector, isPlane: boolean = false): number {\r\n        let x1 = from.x;\r\n        let y1 = from.y;\r\n        let z1 = from.z;\r\n        let x2 = to.x;\r\n        let y2 = to.y;\r\n        let z2 = to.z;\r\n        let distance = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\r\n        if (!isPlane) {\r\n            distance += (z1 - z2) * (z1 - z2);\r\n        }\r\n        if (distance < 0) {\r\n            distance = 0;\r\n        }\r\n        return distance;\r\n    }\r\n\r\n    /**\r\n     * \u7B80\u5355\u4E24\u70B9\u4E09\u7EF4\u662F\u5426\u5728\u4E00\u5B9A\u8DDD\u79BB\u5185\r\n     * @param checkDis \u68C0\u67E5\u8DDD\u79BB\r\n     * @param isPlane \u662F\u5426\u53EA\u68C0\u67E5\u5E73\u9762\r\n     */\r\n    public static CheckRect(p1: Type.Vector, p2: Type.Vector, checkDis: number, isPlane: boolean = false): boolean {\r\n        if (Math.abs(p1.x - p2.x) > checkDis) { return false; }\r\n        if (Math.abs(p1.y - p2.y) > checkDis) { return false; }\r\n        if (!isPlane) {\r\n            if (Math.abs(p1.z - p2.z) > checkDis) { return false; }\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n    /**\u968F\u673A\u6D6E\u70B9\u6570 [min,max) */\r\n    public static RandomFloat(min: number, max: number): number {\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n    /**\u968F\u673A\u6574\u6570 */\r\n    public static RandomeInt(min: number, max: number): number {\r\n        return Math.floor(Tools.RandomFloat(min, max));\r\n    }\r\n    /**\r\n     * \u4E00\u76F4\u67E5\u627E\u67D0\u4E2A\u7269\u4F53\uFF0C\u76F4\u5230\u9650\u5B9A\u65F6\u95F4\u5230\r\n     * @param guid \u5BF9\u8C61\u552F\u4E00ID\r\n     * @param wait \u6700\u5927\u67E5\u627E\u65F6\u95F4(ms)\r\n     * @returns \r\n     */\r\n    public static async asyncFind(guid: string, wait: number = 10000): Promise<Core.GameObject> {\r\n        if (!guid) { return null; }\r\n        let ret = Core.GameObject.find(guid);\r\n        let t = Math.max(100, wait);\r\n        while (!ret && t > 0) {\r\n            t -= 100;\r\n            await Tools.sleep(100);\r\n            ret = Core.GameObject.find(guid);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * \u63D0\u53D6\u4E00\u4E2A\u5BF9\u8C61\u6240\u6709\u6210\u5458\u8F6C\u5316\u4E3A\u5B57\u7B26\u4E32\uFF0C\u7528\u4E8E\u6253\u5370\u663E\u793A\r\n     * @param object \u88AB\u63D0\u53D6\u7684\u5BF9\u8C61\r\n     * @param showFunc \u662F\u5426\u663E\u793A\u51FD\u6570\u6210\u5458\r\n     * @param deep \u9012\u5F52\u6DF1\u5EA6\uFF0C\u6700\u591A5\u5C42\r\n     */\r\n    public static DumpObject(object: any, showFunc: boolean = false, deep: number = 5) {\r\n        if (object == null || object == undefined) {\r\n            if (typeof (object) == \"object\") {\r\n                return \"null\";\r\n            }\r\n            return String(object);\r\n        }\r\n        if (typeof (object) != \"object\") {\r\n            return String(object);\r\n        }\r\n        deep = Math.min(5, deep);//\u6700\u591A\u9012\u5F525\u5C42\r\n        let spaceLength = Math.abs(deep - 5) * 2;//\u7A7A\u683C\u6570\u91CF\r\n        let space = \"\";\r\n        for (let i = 0; i < spaceLength; i++) {\r\n            space += \" \";\r\n        }\r\n        let result = \"\\n\" + space + \"{\";\r\n        if (object instanceof Map)//\u672C\u8EAB\u662FMap\u5BF9\u8C61\r\n        {\r\n            result += \"\\n\" + space;\r\n            if (deep <= 0) {\r\n                result += `(Map):${object}`;\r\n            }\r\n            else {\r\n                result += \"(Map):\";\r\n                for (let key of object.keys()) {\r\n                    result += \"\\n\" + space + ` [${key}]:${Tools.DumpObject(object.get(key), showFunc, deep - 1)}`;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (let k in object) {\r\n\r\n                if (object[k] instanceof Map)//\u662F\u4E00\u4E2Amap\u5BF9\u8C61\r\n                {\r\n                    result += \"\\n\" + space;\r\n                    //\u9012\u5F52\u6DF1\u5EA6\u5230\u5E95\r\n                    if (deep <= 0) {\r\n                        result += `${k}(Map):${object[k]}`;\r\n                    }\r\n                    else {\r\n                        result += k + \"(Map):\";\r\n                        // result += \"\\n{\";\r\n                        for (let key of object[k].keys()) {\r\n                            result += \"\\n\" + space + ` [${key}]:${Tools.DumpObject(object[k].get(key), showFunc, deep - 1)}`;\r\n                        }\r\n                        // result += \"\\n}\"\r\n                    }\r\n                }\r\n                //\u662F\u4E00\u4E2A\u5BF9\u8C61\u6210\u5458\uFF0C\u518D\u6B21\u9012\u5F52\r\n                else if (typeof (object[k]) == \"object\") {\r\n                    result += \"\\n\" + space;\r\n                    //\u9012\u5F52\u6DF1\u5EA6\u5230\u5E95\r\n                    if (deep <= 0) {\r\n                        result += `${k}:${object[k]}`;\r\n                    }\r\n                    else {\r\n                        result += `${k}:${Tools.DumpObject(object[k], showFunc, deep - 1)}`;\r\n                    }\r\n                }\r\n                else if (typeof (object[k]) == \"function\") {\r\n                    if (showFunc) {\r\n                        result += \"\\n\" + space;\r\n                        result += `${k}:function`;\r\n                    }\r\n                    else {\r\n                        continue;\r\n                    }\r\n                }\r\n                else {\r\n                    result += \"\\n\" + space;\r\n                    result += `${k}:${object[k]}`;\r\n                }\r\n                // result += \"\\n\" + space;\r\n            }\r\n        }\r\n\r\n        result += \"\\n\" + space + \"}\";\r\n        return result;\r\n    }\r\n\r\n    /**\r\n    * \u521B\u5EFA\u6E38\u620F\u7269\u4F53\u8EAB\u4E0A\u7684\u89E6\u53D1\u5668\r\n    * @param gameObject \u89E6\u53D1\u5668\u6E38\u620F\u7269\u4F53\r\n    * @param useSelf \u5982\u679C\u81EA\u8EAB\u4E3A\u89E6\u53D1\u5668\uFF0C\u662F\u5426\u76F4\u63A5\u4F7F\u7528\u81EA\u8EAB\r\n    * @param sync \u5982\u679C\u5728\u670D\u52A1\u5668\u4E0A\u4F7F\u7528\u6B64\u51FD\u6570\uFF0C\u662F\u5426\u540C\u6B65\r\n    * @returns\r\n    */\r\n    public static createTriggerToGameObject(gameObject: Core.GameObject, useSelf: boolean = true, sync: boolean = false): Gameplay.Trigger {\r\n        let trigger: Gameplay.Trigger = null;\r\n        if (gameObject instanceof Gameplay.Trigger && useSelf) //\u5982\u679C\u672C\u8EAB\u662F\u4E00\u4E2A\u89E6\u53D1\u5668,\u4E14\u5141\u8BB8\u4F7F\u7528\u81EA\u8EAB\u4F5C\u4E3A\u8FD4\u56DE\r\n        {\r\n            trigger = gameObject as Gameplay.Trigger;\r\n        }\r\n        else {\r\n            trigger = Core.GameObject.spawnGameObject(\"113\", sync) as Gameplay.Trigger;\r\n            trigger.name = gameObject.name + \"_Trigger\";\r\n            trigger.worldScale = gameObject.worldScale.multiply(1.2);//\u89E6\u53D1\u5668\u6BD4\u672C\u4F53\u7A0D\u5FAE\u5927\u4E00\u70B9\r\n            trigger.attachToGameObject(gameObject);\r\n            trigger.setRelativeLocation(new Type.Vector(0, 0, 50));\r\n            trigger.setRelativeRotation(Type.Rotation.zero);\r\n        }\r\n        return trigger;\r\n    }\r\n\r\n    /**\r\n    * \u83B7\u53D6\u7269\u4F53\u7684\u6240\u6709\u5B50\u7EA7(\u5305\u542B\u5B50\u7EA7\u7684\u5B50\u7EA7\uFF0C\u4E0D\u5305\u542B\u81EA\u8EAB)\r\n    * @param parent \u7236\u8282\u70B9\r\n    * @param deep \u67E5\u627E\u6DF1\u5EA6\r\n    * @param property \u7279\u5B9A\u67E5\u627E\u6210\u5458\u540D\uFF0C\u6CA1\u6709\u5219\u8FD4\u56DE\u6E38\u620F\u7269\u4F53\u672C\u8EAB\r\n    * @returns \r\n    */\r\n    public static getAllChild(parent: Core.GameObject, deep: number = 5, property: string = null): any[] {\r\n        if (parent.getChildren().length <= 0 || deep <= 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            let result: any[] = []\r\n            for (let c of parent.getChildren()) {\r\n                if (property) {\r\n                    result.push(c[property as keyof typeof c]);\r\n                }\r\n                else {\r\n                    result.push(c);\r\n                }\r\n                // result.push(c);//\u52A0\u4E0A\u672C\u8EAB\r\n                let cc = this.getAllChild(c, deep - 1, property);//\u62FF\u5230\u6B64\u5B50\u7EA7\u7684\u5B50\u7EA7\r\n                if (cc != null) {\r\n                    result = result.concat(cc);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u8D1D\u585E\u5C14\u66F2\u7EBF\r\n     * \u7ED9\u51FA\u4E00\u7EC4\u70B9\uFF0C\u7B97\u51FA\u7684\u8FD9\u4E2A\u66F2\u7EBF\u5728\u67D0\u4E2A\u9636\u6BB5\u7684\u503C\r\n     * @param points \u66F2\u7EBF\u70B9\u53C2\u6570\u7EC4\r\n     * @param lerp 0-1\u7684\u63D2\u503C\r\n     */\r\n    public static Bezier(points: Type.Vector[], lerp: number): Type.Vector {\r\n        lerp = this.RoundNumber(lerp, 0, 1);\r\n        if (points.length == 2)//\u53EA\u67092\u4E2A\u70B9\u65F6\uFF0C\u76F4\u63A5\u8FD4\u56DE\u63D2\u503C\u70B9\r\n        {\r\n            return this.LerpVector(points[0], points[1], lerp);\r\n        }\r\n        let nextArray: Type.Vector[] = [];\r\n        for (let i = 0; i < points.length - 1; i++) {\r\n            let pointA = points[i];\r\n            let pointB = points[i + 1];\r\n            let lerpPoint = this.LerpVector(pointA, pointB, lerp);\r\n            nextArray.push(lerpPoint);\r\n        }\r\n        return this.Bezier(nextArray, lerp);\r\n    }\r\n\r\n    /**\u6839\u636E\u5706\u5FC3\u548C\u534A\u5F84\uFF0C\u5355\u4F4D\u89D2\u5EA6\uFF0C\u83B7\u53D6\u5706\u4E0A\u7684\u5750\u6807\u70B9\u96C6\u5408 */\r\n    public static getCirclePoints(center: Type.Vector, radius: number, step: number) {\r\n        let result: Type.Vector[] = [];\r\n        let z = center.z;\r\n        let [x0, y0] = [center.x, center.y];\r\n        for (let angle: number = 0; angle < 360; angle += step) {\r\n            let radian = angle * 2 * (Math.PI / 360);\r\n            let x = x0 + radius * Math.cos(radian);\r\n            let y = y0 + radius * Math.sin(radian);\r\n            result.push(new Type.Vector(x, y, z));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n",
    "import { Action1 } from \"./Tools/ExtensionType\";\r\nimport { Class } from \"./Tools/Tools\";\r\nimport { Datacenter } from \"./tqBase/Datacenter\";\r\nimport { NetManager } from \"./tqBase/NetManager\";\r\n\r\nexport abstract class TQGameStart extends Core.Script {\r\n    private static _instance: TQGameStart = null;\r\n    /**\u5355\u4F8B */\r\n    public static get instance(): TQGameStart {\r\n        return TQGameStart._instance;\r\n    }\r\n\r\n    @Core.Property()\r\n    public preloadAssets: string = \"\";//\u9884\u52A0\u8F7D\u5B57\u7B26\u4E32\r\n    @Core.Property()\r\n    private _isOnline: boolean = false;//\u662F\u5426\u7EBF\u4E0A\u5B58\u50A8\r\n\r\n\r\n    private _customUpdateAct: Action1<number> = new Action1();//\u5176\u4ED6\u903B\u8F91\u4E2D\u52A0\u5165\u7684\u5E27\u66F4\u65B0\u903B\u8F91\r\n\r\n    /** \u5F53\u811A\u672C\u88AB\u5B9E\u4F8B\u540E\uFF0C\u4F1A\u5728\u7B2C\u4E00\u5E27\u66F4\u65B0\u524D\u8C03\u7528\u6B64\u51FD\u6570 */\r\n    protected async onStart(): Promise<void> {\r\n        if (!TQGameStart._instance) {\r\n            TQGameStart._instance = this;\r\n        }\r\n        this.UIinit();//\u5BA2\u6237\u7AEF\u521D\u59CB\u5316UI\r\n        await Datacenter.init(this._isOnline, ...this.getDataClass());//\u6570\u636E\u5C42\u521D\u59CB\u5316\r\n        NetManager.initNetMgr();//\u7F51\u7EDC\u4F20\u8F93\u5C42\u521D\u59CB\u5316\r\n        this.useUpdate = true;//\u4E3B\u5FAA\u73AF\u811A\u672C\u9A71\u52A8\u66F4\u65B0\r\n    }\r\n\r\n\r\n\r\n    /** \r\n     * \u6BCF\u5E27\u88AB\u6267\u884C,\u4E0E\u4E0A\u4E00\u5E27\u7684\u5EF6\u8FDF dt \u79D2\r\n     * \u6B64\u51FD\u6570\u6267\u884C\u9700\u8981\u5C06this.bUseUpdate\u8D4B\u503C\u4E3Atrue\r\n     */\r\n    protected onUpdate(dt: number): void {\r\n        NetManager.update();\r\n        this._customUpdateAct.call(dt);\r\n    }\r\n\r\n    /** \u811A\u672C\u88AB\u9500\u6BC1\u65F6\u6700\u540E\u4E00\u5E27\u6267\u884C\u5B8C\u8C03\u7528\u6B64\u51FD\u6570 */\r\n    protected onDestroy(): void {\r\n\r\n    }\r\n\r\n    /**\u8FD4\u56DE\u9700\u8981\u88AB\u521D\u59CB\u5316\u7684\u6570\u636E\u7C7B\u7684\u7C7B\u578B\u7EC4 */\r\n    protected abstract getDataClass(): Class<Datacenter.PlayerSaveData>[];\r\n\r\n    /**\u7B2C\u4E00\u4E2A\u6253\u5F00\u7684UI,\u4E00\u822C\u662Floading\u754C\u9762 */\r\n    protected abstract get firstUI(): Class<UI.UIBehaviour>;\r\n\r\n    /**UI\u521D\u59CB\u5316 */\r\n    private UIinit() {\r\n        if (Util.SystemUtil.isClient()) {\r\n            Extension.UIManager.getInstance(Extension.UIManager);\r\n            if (this.firstUI) {//\u6709\u81EA\u5B9A\u4E49\u521D\u59CBUI\r\n                Extension.UIManager.instance.show(this.firstUI);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\u6DFB\u52A0\u5230\u81EA\u8EABupdate\u751F\u547D\u5468\u671F\u7684\u51FD\u6570 */\r\n    public addCustomAct(act: (dt: number) => void, thisArg?: any) {\r\n        this._customUpdateAct.add(act, thisArg);\r\n    }\r\n    /**\u4ECE\u81EA\u8EABupdate\u751F\u547D\u5468\u671F\u79FB\u9664\u7684\u51FD\u6570 */\r\n    public removeCustomAct(act: (dt: number) => void, thisArg: any) {\r\n        this._customUpdateAct.remove(act, thisArg);\r\n    }\r\n\r\n}\r\n",
    "\r\nexport namespace BulletChatUI {\r\n\r\n    const Event_serverCallClientBullet: string = \"Event_serverCallClientBullet\";\r\n    let bindNet: boolean = false\r\n    let rootCanvas: UI.Canvas = null;//\u5F39\u5E55\u4F7F\u7528\u7684\u753B\u5E03UI\u5BF9\u8C61\r\n    const msgTexts: BulletChat[] = [];//\u5F39\u5E55\u5217\u8868\r\n    let axisMin: number = 0;\r\n    let axisMax: number = 500;\r\n\r\n    /**\u521D\u59CB\u5316\u5F39\u5E55\u7684\u76F8\u5173\u8BBE\u5B9A\r\n     * \r\n     * @param min \u9AD8\u5EA6\u6700\u5C0F\u503C\r\n     * @param max \u9AD8\u5EA6\u6700\u5927\u503C\r\n     * @param canvas \u51FA\u73B0\u7684\u753B\u5E03\r\n     * \r\n     */\r\n    export function init(min: number, max: number, canvas: UI.Canvas) {\r\n        if (!min || Number.isNaN(min)) {\r\n            axisMin = 0;\r\n        }\r\n        else {\r\n            axisMin = Math.min(min, max);\r\n        }\r\n\r\n        if (!max || Number.isNaN(max)) {\r\n            axisMax = 500;\r\n        }\r\n        else {\r\n            axisMax = Math.max(min, max);\r\n        }\r\n        rootCanvas = canvas;\r\n\r\n        if (Util.SystemUtil.isClient() && !bindNet) {\r\n            bindNet = true;\r\n            Events.addServerListener(Event_serverCallClientBullet, (msg: string, time: number, color: Type.LinearColor) => {\r\n                createBulletChat(msg, time, color);\r\n            })\r\n        }\r\n    }\r\n\r\n    export function createBulletChat(msg: string, time: number = 10000, color: Type.LinearColor = Type.LinearColor.white) {\r\n\r\n        if (Util.SystemUtil.isServer()) {\r\n            Events.dispatchToAllClient(Event_serverCallClientBullet, msg, time, color);\r\n            return;\r\n        }\r\n\r\n        if (!rootCanvas || !msg || !msg[\"toString\"]) {//\u6CA1\u6709\u753B\u5E03\uFF0C\u6CA1\u6709\u6587\u5B57\uFF0C\u6587\u5B57\u4E3A\u7A7A\uFF0C\u4E0D\u9700\u8981\u521B\u5EFA\u5F39\u5E55\r\n            return;\r\n        }\r\n        msg = msg.toString()\r\n        if (msg.length <= 0) {\r\n            return;\r\n        }\r\n\r\n        time = Number.isNaN(time) ? 2000 : time;\r\n        let bc = getNewBc(msg);\r\n        bc.txt.fontColor = (color);\r\n        bc.txt.outlineColor = (Type.LinearColor.black);\r\n        bc.txt.outlineSize = (1)\r\n        let endpos = { x: bc.size.x * -1, y: bc.pos.y };//\u83B7\u53D6\u7ED3\u675F\u70B9\r\n        const slot = bc.txt.slot;\r\n        const changePos = new Type.Vector(0, 0);\r\n\r\n        new TweenClass.Tween(bc.pos).to(endpos, time).onUpdate(pos => {\r\n            changePos.x = pos.x;\r\n            changePos.y = pos.y;\r\n            slot.position = (changePos);\r\n        }).onComplete(() => {\r\n            bc.run = false;\r\n        }).start();\r\n    }\r\n\r\n    function getNewBc(msg: string): BulletChat {\r\n        msg = msg.toString();\r\n        let bc = msgTexts.find(v => { return !v.run });\r\n        if (!bc) {//\u6CA1\u627E\u5230\u6CA1\u4F7F\u7528\u7684\u65E7\u5F39\u5E55\u5BF9\u8C61\r\n            let ui = UI.TextBlock.newObject(rootCanvas, \"msgUIObject\");\r\n            bc = {\r\n                txt: ui,\r\n                run: true,\r\n                pos: { x: 1920, y: 0 },\r\n                size: { x: 35, y: 100 }\r\n            }//\u6784\u5EFA\u4E00\u4E2A\u65B0\u5F39\u5E55\u5BF9\u8C61\r\n            msgTexts.push(bc);\r\n            console.log(\"\u65B0\u5EFA\u5F39\u5E55\uFF0C\u76EE\u524D\u603B\u5F39\u5E55\u6570\uFF1A\" + msgTexts.length);\r\n        }\r\n        else {\r\n            bc.run = true;//\u7F6E\u4E3A\u6B63\u5728\u4F7F\u7528\u4E2D\r\n        }\r\n        bc.pos.x = rootCanvas.slot.size.x;//\u653E\u5230\u5C4F\u5E55\u53F3\u8FB9\r\n        bc.pos.y = Math.random() * (axisMax - axisMin) + axisMin;//\u968F\u673AY\u8F74\r\n        bc.size.x = 40 * msg.length;//\u5B57\u7B26\u5BF9\u8C61\u957F\u5EA6\r\n        bc.txt.text = (msg);\r\n        bc.txt.slot.size = (new Type.Vector2(bc.size.x, bc.size.y))\r\n\r\n        return bc;\r\n    }\r\n\r\n    export function update() {\r\n        TweenClass.update();\r\n    }\r\n\r\n\r\n    /**\u5F39\u5E55\u4F7F\u7528\u7684\u4FE1\u606F\u7C7B */\r\n    type BulletChat = {\r\n        txt: UI.TextBlock,\r\n        run: boolean,\r\n        pos: { x: number, y: number },\r\n        size: { x: number, y: number }\r\n    }\r\n\r\n\r\n    namespace TweenClass {\r\n\r\n        export type EasingFunction = (amount: number) => number\r\n\r\n        /**\r\n         * The Ease class provides a collection of easing functions for use with tween.js.\r\n         */\r\n        const Easing = {\r\n            Linear: {\r\n                None: function (amount: number): number {\r\n                    return amount\r\n                },\r\n            },\r\n            Quadratic: {\r\n                In: function (amount: number): number {\r\n                    return amount * amount\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return amount * (2 - amount)\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if ((amount *= 2) < 1) {\r\n                        return 0.5 * amount * amount\r\n                    }\r\n\r\n                    return -0.5 * (--amount * (amount - 2) - 1)\r\n                },\r\n            },\r\n            Cubic: {\r\n                In: function (amount: number): number {\r\n                    return amount * amount * amount\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return --amount * amount * amount + 1\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if ((amount *= 2) < 1) {\r\n                        return 0.5 * amount * amount * amount\r\n                    }\r\n                    return 0.5 * ((amount -= 2) * amount * amount + 2)\r\n                },\r\n            },\r\n            Quartic: {\r\n                In: function (amount: number): number {\r\n                    return amount * amount * amount * amount\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return 1 - --amount * amount * amount * amount\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if ((amount *= 2) < 1) {\r\n                        return 0.5 * amount * amount * amount * amount\r\n                    }\r\n\r\n                    return -0.5 * ((amount -= 2) * amount * amount * amount - 2)\r\n                },\r\n            },\r\n            Quintic: {\r\n                In: function (amount: number): number {\r\n                    return amount * amount * amount * amount * amount\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return --amount * amount * amount * amount * amount + 1\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if ((amount *= 2) < 1) {\r\n                        return 0.5 * amount * amount * amount * amount * amount\r\n                    }\r\n\r\n                    return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2)\r\n                },\r\n            },\r\n            Sinusoidal: {\r\n                In: function (amount: number): number {\r\n                    return 1 - Math.sin(((1.0 - amount) * Math.PI) / 2)\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return Math.sin((amount * Math.PI) / 2)\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    return 0.5 * (1 - Math.sin(Math.PI * (0.5 - amount)))\r\n                },\r\n            },\r\n            Exponential: {\r\n                In: function (amount: number): number {\r\n                    return amount === 0 ? 0 : Math.pow(1024, amount - 1)\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount)\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if (amount === 0) {\r\n                        return 0\r\n                    }\r\n\r\n                    if (amount === 1) {\r\n                        return 1\r\n                    }\r\n\r\n                    if ((amount *= 2) < 1) {\r\n                        return 0.5 * Math.pow(1024, amount - 1)\r\n                    }\r\n\r\n                    return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2)\r\n                },\r\n            },\r\n            Circular: {\r\n                In: function (amount: number): number {\r\n                    return 1 - Math.sqrt(1 - amount * amount)\r\n                },\r\n                Out: function (amount: number): number {\r\n                    return Math.sqrt(1 - --amount * amount)\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if ((amount *= 2) < 1) {\r\n                        return -0.5 * (Math.sqrt(1 - amount * amount) - 1)\r\n                    }\r\n                    return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1)\r\n                },\r\n            },\r\n            Elastic: {\r\n                In: function (amount: number): number {\r\n                    if (amount === 0) {\r\n                        return 0\r\n                    }\r\n\r\n                    if (amount === 1) {\r\n                        return 1\r\n                    }\r\n\r\n                    return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI)\r\n                },\r\n                Out: function (amount: number): number {\r\n                    if (amount === 0) {\r\n                        return 0\r\n                    }\r\n\r\n                    if (amount === 1) {\r\n                        return 1\r\n                    }\r\n                    return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if (amount === 0) {\r\n                        return 0\r\n                    }\r\n\r\n                    if (amount === 1) {\r\n                        return 1\r\n                    }\r\n\r\n                    amount *= 2\r\n\r\n                    if (amount < 1) {\r\n                        return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI)\r\n                    }\r\n\r\n                    return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1\r\n                },\r\n            },\r\n            Back: {\r\n                In: function (amount: number): number {\r\n                    const s = 1.70158\r\n                    return amount === 1 ? 1 : amount * amount * ((s + 1) * amount - s)\r\n                },\r\n                Out: function (amount: number): number {\r\n                    const s = 1.70158\r\n                    return amount === 0 ? 0 : --amount * amount * ((s + 1) * amount + s) + 1\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    const s = 1.70158 * 1.525\r\n                    if ((amount *= 2) < 1) {\r\n                        return 0.5 * (amount * amount * ((s + 1) * amount - s))\r\n                    }\r\n                    return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2)\r\n                },\r\n            },\r\n            Bounce: {\r\n                In: function (amount: number): number {\r\n                    return 1 - Easing.Bounce.Out(1 - amount)\r\n                },\r\n                Out: function (amount: number): number {\r\n                    if (amount < 1 / 2.75) {\r\n                        return 7.5625 * amount * amount\r\n                    } else if (amount < 2 / 2.75) {\r\n                        return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75\r\n                    } else if (amount < 2.5 / 2.75) {\r\n                        return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375\r\n                    } else {\r\n                        return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375\r\n                    }\r\n                },\r\n                InOut: function (amount: number): number {\r\n                    if (amount < 0.5) {\r\n                        return Easing.Bounce.In(amount * 2) * 0.5\r\n                    }\r\n                    return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5\r\n                },\r\n            },\r\n            generatePow: function (\r\n                power = 4,\r\n            ): {\r\n                In(amount: number): number\r\n                Out(amount: number): number\r\n                InOut(amount: number): number\r\n            } {\r\n                power = power < Number.EPSILON ? Number.EPSILON : power\r\n                power = power > 10000 ? 10000 : power\r\n                return {\r\n                    In: function (amount: number): number {\r\n                        return amount ** power\r\n                    },\r\n                    Out: function (amount: number): number {\r\n                        return 1 - (1 - amount) ** power\r\n                    },\r\n                    InOut: function (amount: number): number {\r\n                        if (amount < 0.5) {\r\n                            return (amount * 2) ** power / 2\r\n                        }\r\n                        return (1 - (2 - amount * 2) ** power) / 2 + 0.5\r\n                    },\r\n                }\r\n            },\r\n        }\r\n\r\n        /**\r\n         *\r\n         */\r\n        type InterpolationFunction = (v: number[], k: number) => number\r\n\r\n        /**\r\n         *\r\n         */\r\n        const Interpolation = {\r\n            Linear: function (v: number[], k: number): number {\r\n                const m = v.length - 1\r\n                const f = m * k\r\n                const i = Math.floor(f)\r\n                const fn = Interpolation.Utils.Linear\r\n\r\n                if (k < 0) {\r\n                    return fn(v[0], v[1], f)\r\n                }\r\n\r\n                if (k > 1) {\r\n                    return fn(v[m], v[m - 1], m - f)\r\n                }\r\n\r\n                return fn(v[i], v[i + 1 > m ? m : i + 1], f - i)\r\n            },\r\n\r\n            Bezier: function (v: number[], k: number): number {\r\n                let b = 0\r\n                const n = v.length - 1\r\n                const pw = Math.pow\r\n                const bn = Interpolation.Utils.Bernstein\r\n\r\n                for (let i = 0; i <= n; i++) {\r\n                    b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i)\r\n                }\r\n\r\n                return b\r\n            },\r\n\r\n            CatmullRom: function (v: number[], k: number): number {\r\n                const m = v.length - 1\r\n                let f = m * k\r\n                let i = Math.floor(f)\r\n                const fn = Interpolation.Utils.CatmullRom\r\n\r\n                if (v[0] === v[m]) {\r\n                    if (k < 0) {\r\n                        i = Math.floor((f = m * (1 + k)))\r\n                    }\r\n\r\n                    return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i)\r\n                } else {\r\n                    if (k < 0) {\r\n                        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0])\r\n                    }\r\n\r\n                    if (k > 1) {\r\n                        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m])\r\n                    }\r\n\r\n                    return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i)\r\n                }\r\n            },\r\n\r\n            Utils: {\r\n                Linear: function (p0: number, p1: number, t: number): number {\r\n                    return (p1 - p0) * t + p0\r\n                },\r\n                Bernstein: function (n: number, i: number): number {\r\n                    const fc = Interpolation.Utils.Factorial\r\n\r\n                    return fc(n) / fc(i) / fc(n - i)\r\n                },\r\n                Factorial: (function () {\r\n                    const a = [1]\r\n\r\n                    return function (n: number): number {\r\n                        let s = 1\r\n\r\n                        if (a[n]) {\r\n                            return a[n]\r\n                        }\r\n\r\n                        for (let i = n; i > 1; i--) {\r\n                            s *= i\r\n                        }\r\n\r\n                        a[n] = s\r\n                        return s\r\n                    }\r\n                })(),\r\n\r\n                CatmullRom: function (p0: number, p1: number, p2: number, p3: number, t: number): number {\r\n                    const v0 = (p2 - p0) * 0.5\r\n                    const v1 = (p3 - p1) * 0.5\r\n                    const t2 = t * t\r\n                    const t3 = t * t2\r\n\r\n                    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\r\n                },\r\n            },\r\n        }\r\n\r\n        class Sequence {\r\n            private static _nextId = 0\r\n\r\n            static nextId(): number {\r\n                return Sequence._nextId++\r\n            }\r\n        }\r\n        class Group {\r\n            private _tweens: {\r\n                [key: string]: Tween<UnknownProps>\r\n            } = {}\r\n\r\n            private _tweensAddedDuringUpdate: {\r\n                [key: string]: Tween<UnknownProps>\r\n            } = {}\r\n\r\n            getAll(): Array<Tween<UnknownProps>> {\r\n                return Object.keys(this._tweens).map(tweenId => {\r\n                    return this._tweens[tweenId]\r\n                })\r\n            }\r\n\r\n            removeAll(): void {\r\n                this._tweens = {}\r\n            }\r\n\r\n            add(tween: Tween<UnknownProps>): void {\r\n                this._tweens[tween.getId()] = tween\r\n                this._tweensAddedDuringUpdate[tween.getId()] = tween\r\n            }\r\n\r\n            remove(tween: Tween<UnknownProps>): void {\r\n                delete this._tweens[tween.getId()]\r\n                delete this._tweensAddedDuringUpdate[tween.getId()]\r\n            }\r\n\r\n            update(time: number = now(), preserve = false): boolean {\r\n                let tweenIds = Object.keys(this._tweens)\r\n\r\n                if (tweenIds.length === 0) {\r\n                    return false\r\n                }\r\n\r\n                // Tweens are updated in \"batches\". If you add a new tween during an\r\n                // update, then the new tween will be updated in the next batch.\r\n                // If you remove a tween during an update, it may or may not be updated.\r\n                // However, if the removed tween was added during the current batch,\r\n                // then it will not be updated.\r\n                while (tweenIds.length > 0) {\r\n                    this._tweensAddedDuringUpdate = {}\r\n\r\n                    for (let i = 0; i < tweenIds.length; i++) {\r\n                        const tween = this._tweens[tweenIds[i]]\r\n                        const autoStart = !preserve\r\n\r\n                        if (tween && tween.update(time, autoStart) === false && !preserve) {\r\n                            delete this._tweens[tweenIds[i]]\r\n                        }\r\n                    }\r\n\r\n                    tweenIds = Object.keys(this._tweensAddedDuringUpdate)\r\n                }\r\n\r\n                return true\r\n            }\r\n        }\r\n        const mainGroup = new Group()\r\n        const now = function () {\r\n            return Date.now();\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n        export type UnknownProps = Record<string, any>\r\n        export class Tween<T extends UnknownProps> {\r\n            private _isPaused = false\r\n            private _pauseStart = 0\r\n            private _valuesStart: UnknownProps = {}\r\n            protected _valuesEnd: Record<string, any> = {}\r\n            protected _valuesStartRepeat: UnknownProps = {}\r\n            private _duration = 1000\r\n            private _initialRepeat = 0\r\n            private _repeat = 0\r\n            private _repeatDelayTime?: number\r\n            private _yoyo = false\r\n            private _isPlaying = false\r\n            private _reversed = false\r\n            private _delayTime = 0\r\n            private _startTime = 0\r\n            private _easingFunction: EasingFunction = Easing.Linear.None\r\n            private _interpolationFunction: InterpolationFunction = Interpolation.Linear\r\n            // eslint-disable-next-line\r\n            private _chainedTweens: Array<Tween<any>> = []\r\n            private _onStartCallback?: (object: T) => void\r\n            private _onStartCallbackFired = false\r\n            private _onUpdateCallback?: (object: T, elapsed: number) => void\r\n            private _onRepeatCallback?: (object: T) => void\r\n            private _onCompleteCallback?: (object: T) => void\r\n            private _onStopCallback?: (object: T) => void\r\n            private _id = Sequence.nextId()\r\n            private _isChainStopped = false\r\n\r\n            constructor(private _object: T, private _group: Group | false = mainGroup) { }\r\n\r\n            getId(): number {\r\n                return this._id\r\n            }\r\n\r\n            isPlaying(): boolean {\r\n                return this._isPlaying\r\n            }\r\n\r\n            isPaused(): boolean {\r\n                return this._isPaused\r\n            }\r\n\r\n            to(properties: UnknownProps, duration?: number): this {\r\n                // TODO? restore this, then update the 07_dynamic_to example to set fox\r\n                // tween's to on each update. That way the behavior is opt-in (there's\r\n                // currently no opt-out).\r\n                // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\r\n                this._valuesEnd = Object.create(properties)\r\n\r\n                if (duration !== undefined) {\r\n                    this._duration = duration\r\n                }\r\n\r\n                return this\r\n            }\r\n\r\n            duration(d = 1000): this {\r\n                this._duration = d\r\n                return this\r\n            }\r\n            get object(): T {\r\n                return this._object;\r\n            }\r\n            start(time: number = now()): this {\r\n                if (this._isPlaying) {\r\n                    return this\r\n                }\r\n\r\n                // eslint-disable-next-line\r\n                this._group && this._group.add(this as any)\r\n\r\n                this._repeat = this._initialRepeat\r\n\r\n                if (this._reversed) {\r\n                    // If we were reversed (f.e. using the yoyo feature) then we need to\r\n                    // flip the tween direction back to forward.\r\n\r\n                    this._reversed = false\r\n\r\n                    for (const property in this._valuesStartRepeat) {\r\n                        this._swapEndStartRepeatValues(property)\r\n                        this._valuesStart[property] = this._valuesStartRepeat[property]\r\n                    }\r\n                }\r\n\r\n                this._isPlaying = true\r\n\r\n                this._isPaused = false\r\n\r\n                this._onStartCallbackFired = false\r\n\r\n                this._isChainStopped = false\r\n\r\n                this._startTime = time\r\n                this._startTime += this._delayTime\r\n\r\n                this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat)\r\n\r\n                return this\r\n            }\r\n\r\n            protected _setupProperties(\r\n                _object: UnknownProps,\r\n                _valuesStart: UnknownProps,\r\n                _valuesEnd: UnknownProps,\r\n                _valuesStartRepeat: UnknownProps,\r\n            ): void {\r\n                for (const property in _valuesEnd) {\r\n                    const startValue = _object[property]\r\n                    const startValueIsArray = Array.isArray(startValue)\r\n                    const propType = startValueIsArray ? 'array' : typeof startValue\r\n                    const isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property])\r\n                    // If `to()` specifies a property that doesn't exist in the source object,\r\n                    // we should not set that property in the object\r\n                    if (propType === 'undefined' || propType === 'function') {\r\n                        continue\r\n                    }\r\n\r\n                    // Check if an Array was provided as property value\r\n                    if (isInterpolationList) {\r\n                        let endValues = _valuesEnd[property] as Array<number | string>\r\n\r\n                        if (endValues.length === 0) {\r\n                            continue\r\n                        }\r\n\r\n                        // handle an array of relative values\r\n                        endValues = endValues.map(this._handleRelativeValue.bind(this, startValue as number))\r\n\r\n                        // Create a local copy of the Array with the start value at the front\r\n                        _valuesEnd[property] = [startValue].concat(endValues)\r\n                    }\r\n\r\n                    // handle the deepness of the values\r\n                    if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\r\n                        _valuesStart[property] = startValueIsArray ? [] : {}\r\n\r\n                        // eslint-disable-next-line\r\n                        for (const prop in startValue as object) {\r\n                            // eslint-disable-next-line\r\n                            // @ts-ignore FIXME?\r\n                            _valuesStart[property][prop] = startValue[prop]\r\n                        }\r\n\r\n                        _valuesStartRepeat[property] = startValueIsArray ? [] : {} // TODO? repeat nested values? And yoyo? And array values?\r\n\r\n                        // eslint-disable-next-line\r\n                        // @ts-ignore FIXME?\r\n                        this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property])\r\n                    } else {\r\n                        // Save the starting value, but only once.\r\n                        if (typeof _valuesStart[property] === 'undefined') {\r\n                            _valuesStart[property] = startValue\r\n                        }\r\n\r\n                        if (!startValueIsArray) {\r\n                            // eslint-disable-next-line\r\n                            // @ts-ignore FIXME?\r\n                            _valuesStart[property] *= 1.0 // Ensures we're using numbers, not strings\r\n                        }\r\n\r\n                        if (isInterpolationList) {\r\n                            // eslint-disable-next-line\r\n                            // @ts-ignore FIXME?\r\n                            _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse()\r\n                        } else {\r\n                            _valuesStartRepeat[property] = _valuesStart[property] || 0\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            stop(): this {\r\n                if (!this._isChainStopped) {\r\n                    this._isChainStopped = true\r\n                    this.stopChainedTweens()\r\n                }\r\n\r\n                if (!this._isPlaying) {\r\n                    return this\r\n                }\r\n\r\n                // eslint-disable-next-line\r\n                this._group && this._group.remove(this as any)\r\n\r\n                this._isPlaying = false\r\n\r\n                this._isPaused = false\r\n\r\n                if (this._onStopCallback) {\r\n                    this._onStopCallback(this._object)\r\n                }\r\n\r\n                return this\r\n            }\r\n            clear(): this {\r\n                this.stop();\r\n                this._valuesEnd = {};\r\n                return this;\r\n            }\r\n            end(): this {\r\n                this._goToEnd = true\r\n                this.update(Infinity)\r\n                return this\r\n            }\r\n\r\n            pause(time: number = now()): this {\r\n                if (this._isPaused || !this._isPlaying) {\r\n                    return this\r\n                }\r\n\r\n                this._isPaused = true\r\n\r\n                this._pauseStart = time\r\n\r\n                // eslint-disable-next-line\r\n                this._group && this._group.remove(this as any)\r\n\r\n                return this\r\n            }\r\n\r\n            resume(time: number = now()): this {\r\n                if (!this._isPaused || !this._isPlaying) {\r\n                    return this\r\n                }\r\n\r\n                this._isPaused = false\r\n\r\n                this._startTime += time - this._pauseStart\r\n\r\n                this._pauseStart = 0\r\n\r\n                // eslint-disable-next-line\r\n                this._group && this._group.add(this as any)\r\n\r\n                return this\r\n            }\r\n\r\n            stopChainedTweens(): this {\r\n                for (let i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\r\n                    this._chainedTweens[i].stop()\r\n                }\r\n                return this\r\n            }\r\n\r\n            group(group = mainGroup): this {\r\n                this._group = group\r\n                return this\r\n            }\r\n\r\n            delay(amount = 0): this {\r\n                this._delayTime = amount\r\n                return this\r\n            }\r\n\r\n            repeat(times = 0): this {\r\n                this._initialRepeat = times\r\n                this._repeat = times\r\n                return this\r\n            }\r\n\r\n            repeatDelay(amount?: number): this {\r\n                this._repeatDelayTime = amount\r\n                return this\r\n            }\r\n\r\n            yoyo(yoyo = false): this {\r\n                this._yoyo = yoyo\r\n                return this\r\n            }\r\n\r\n            easing(easingFunction: EasingFunction = Easing.Linear.None): this {\r\n                this._easingFunction = easingFunction\r\n                return this\r\n            }\r\n\r\n            interpolation(interpolationFunction: InterpolationFunction = Interpolation.Linear): this {\r\n                this._interpolationFunction = interpolationFunction\r\n                return this\r\n            }\r\n\r\n            // eslint-disable-next-line\r\n            chain(...tweens: Array<Tween<any>>): this {\r\n                this._chainedTweens = tweens\r\n                return this\r\n            }\r\n\r\n            onStart(callback?: (object: T) => void): this {\r\n                this._onStartCallback = callback\r\n                return this\r\n            }\r\n\r\n            onUpdate(callback?: (object: T, elapsed: number) => void): this {\r\n                this._onUpdateCallback = callback\r\n                return this\r\n            }\r\n\r\n            onRepeat(callback?: (object: T) => void): this {\r\n                this._onRepeatCallback = callback\r\n                return this\r\n            }\r\n\r\n            onComplete(callback?: (object: T) => void): this {\r\n                this._onCompleteCallback = callback\r\n                return this\r\n            }\r\n\r\n            onStop(callback?: (object: T) => void): this {\r\n                this._onStopCallback = callback\r\n                return this\r\n            }\r\n\r\n            private _goToEnd = false\r\n\r\n            /**\r\n             * @returns true if the tween is still playing after the update, false\r\n             * otherwise (calling update on a paused tween still returns true because\r\n             * it is still playing, just paused).\r\n             */\r\n            update(time = now(), autoStart = true): boolean {\r\n                if (this._isPaused) return true\r\n\r\n                let property\r\n                let elapsed\r\n\r\n                const endTime = this._startTime + this._duration\r\n\r\n                if (!this._goToEnd && !this._isPlaying) {\r\n                    if (time > endTime) return false\r\n                    if (autoStart) this.start(time)\r\n                }\r\n\r\n                this._goToEnd = false\r\n\r\n                if (time < this._startTime) {\r\n                    return true\r\n                }\r\n\r\n                if (this._onStartCallbackFired === false) {\r\n                    if (this._onStartCallback) {\r\n                        this._onStartCallback(this._object)\r\n                    }\r\n\r\n                    this._onStartCallbackFired = true\r\n                }\r\n\r\n                elapsed = (time - this._startTime) / this._duration\r\n                elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed\r\n\r\n                const value = this._easingFunction(elapsed)\r\n\r\n                // properties transformations\r\n                this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value)\r\n\r\n                if (this._onUpdateCallback) {\r\n                    this._onUpdateCallback(this._object, elapsed)\r\n                }\r\n                if (elapsed === 1) {\r\n                    if (this._repeat > 0) {\r\n                        if (isFinite(this._repeat)) {\r\n                            this._repeat--\r\n                        }\r\n\r\n                        // Reassign starting values, restart by making startTime = now\r\n                        for (property in this._valuesStartRepeat) {\r\n                            if (!this._yoyo) {\r\n                                this._repeatStartRepeatValues(property);\r\n                            } else {\r\n                                this._swapEndStartRepeatValues(property)\r\n                            }\r\n                            this._valuesStart[property] = this._valuesStartRepeat[property]\r\n                        }\r\n\r\n                        if (this._yoyo) {\r\n                            this._reversed = !this._reversed\r\n                        }\r\n\r\n                        if (this._repeatDelayTime !== undefined) {\r\n                            this._startTime = time + this._repeatDelayTime\r\n                        } else {\r\n                            this._startTime = time + this._delayTime\r\n                        }\r\n\r\n                        if (this._onRepeatCallback) {\r\n                            this._onRepeatCallback(this._object)\r\n                        }\r\n\r\n                        return true\r\n                    } else {\r\n                        if (this._onCompleteCallback) {\r\n                            this._onCompleteCallback(this._object)\r\n                        }\r\n\r\n                        for (let i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\r\n                            // Make the chained tweens start exactly at the time they should,\r\n                            // even if the `update()` method was called way past the duration of the tween\r\n                            this._chainedTweens[i].start(this._startTime + this._duration)\r\n                        }\r\n\r\n                        this._isPlaying = false\r\n\r\n                        return false\r\n                    }\r\n                }\r\n\r\n                return true\r\n            }\r\n\r\n            protected _updateProperties(\r\n                _object: UnknownProps,\r\n                _valuesStart: UnknownProps,\r\n                _valuesEnd: UnknownProps,\r\n                value: number,\r\n            ): void {\r\n                for (const property in _valuesEnd) {\r\n                    // Don't update properties that do not exist in the source object\r\n                    if (_valuesStart[property] === undefined) {\r\n                        continue\r\n                    }\r\n\r\n                    const start = _valuesStart[property] || 0\r\n                    let end = _valuesEnd[property]\r\n                    const startIsArray = Array.isArray(_object[property])\r\n                    const endIsArray = Array.isArray(end)\r\n                    const isInterpolationList = !startIsArray && endIsArray\r\n\r\n                    if (isInterpolationList) {\r\n                        _object[property] = this._interpolationFunction(end as Array<number>, value)\r\n                    } else if (typeof end === 'object' && end) {\r\n                        // eslint-disable-next-line\r\n                        // @ts-ignore FIXME?\r\n                        this._updateProperties(_object[property], start, end, value)\r\n                    } else {\r\n                        // Parses relative end values with start as base (e.g.: +10, -3)\r\n                        end = this._handleRelativeValue(start as number, end as number | string)\r\n\r\n                        // Protect against non numeric properties.\r\n                        if (typeof end === 'number') {\r\n                            // eslint-disable-next-line\r\n                            // @ts-ignore FIXME?\r\n                            _object[property] = start + (end - start) * value\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            private _handleRelativeValue(start: number, end: number | string): number {\r\n                if (typeof end !== 'string') {\r\n                    return end\r\n                }\r\n\r\n                if (end.charAt(0) === '+' || end.charAt(0) === '-') {\r\n                    return start + parseFloat(end)\r\n                } else {\r\n                    return parseFloat(end)\r\n                }\r\n            }\r\n\r\n            protected _repeatStartRepeatValues(property: string): void {\r\n                if (typeof this._valuesEnd[property] === 'string') {\r\n                    this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property])\r\n                }\r\n            }\r\n            protected _swapEndStartRepeatValues(property: string): void {\r\n                const tmp = this._valuesStartRepeat[property]\r\n                const endValue = this._valuesEnd[property]\r\n\r\n                if (typeof endValue === 'string') {\r\n                    this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue)\r\n                } else {\r\n                    this._valuesStartRepeat[property] = this._valuesEnd[property]\r\n                }\r\n\r\n                this._valuesEnd[property] = tmp\r\n            }\r\n        }\r\n\r\n        const nextId = Sequence.nextId\r\n\r\n        /**\r\n         * Controlling groups of tweens\r\n         *\r\n         * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\r\n         * In these cases, you may want to create your own smaller groups of tweens.\r\n         */\r\n        const TWEEN = mainGroup\r\n\r\n        // This is the best way to export things in a way that's compatible with both ES\r\n        // Modules and CommonJS, without build hacks, and so as not to break the\r\n        // existing API.\r\n        // https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\r\n        const getAll = TWEEN.getAll.bind(TWEEN)\r\n        const removeAll = TWEEN.removeAll.bind(TWEEN)\r\n        const add = TWEEN.add.bind(TWEEN)\r\n        const remove = TWEEN.remove.bind(TWEEN)\r\n        export const update = TWEEN.update.bind(TWEEN)\r\n\r\n        // NOTE! Make sure both lists of exports below are kept in sync:\r\n\r\n        // export { Easing, Group, Interpolation, now, Sequence, nextId, Tween, getAll, removeAll, add, remove, update }\r\n\r\n\r\n    }\r\n}",
    "\r\nclass LodPanelClass extends UI.UIBehaviour {\r\n    img_bg: UI.Image;\r\n    txt_des: UI.TextBlock;\r\n    slider_progress: UI.ProgressBar;\r\n    btn_Enter: UI.Button;\r\n}\r\ntype cc = {\r\n    new(...args: any[]): LodPanelClass\r\n}\r\nexport class LoadingUI {\r\n\r\n    private constructor() { }\r\n    //\u521D\u59CB\u5316\uFF0C\u6CE8\u518C\u8981\u4F7F\u7528\u7684UI\u7C7B\u7C7B\u578B\r\n    public init(cls: cc) {\r\n        this.uiClass = cls;\r\n    }\r\n\r\n    private static _ins: LoadingUI = null;\r\n    public static get instance(): LoadingUI {\r\n        if (LoadingUI._ins == null) {\r\n            LoadingUI._ins = new LoadingUI();\r\n        }\r\n        return LoadingUI._ins;\r\n    }\r\n\r\n    private uiClass: cc = null;\r\n    private loadingUI: LodPanelClass = null;\r\n    public get isShow(): boolean {\r\n        return this.loadingUI ? this.loadingUI.visible : false;\r\n    }\r\n\r\n    public open(): LoadingUI {\r\n        if (this.loadingUI && this.loadingUI.visible) { return; }\r\n        if (this.loadingUI == null) {\r\n            this.loadingUI = Extension.UIManager.instance.create(this.uiClass);// this.uiClass.creat();\r\n            let UIupdate = this.loadingUI[\"onUpdate\"];\r\n            this.loadingUI[\"onUpdate\"] = function (dt: number) {\r\n                UIupdate(dt);\r\n                LoadingUI._ins.update(dt);\r\n            }\r\n            this.loadingUI.slider_progress.sliderMinValue = 0;//.setSliderMinValue(0);\r\n            this.loadingUI.slider_progress.sliderMaxValue = 1;//.setSliderMaxValue(1);\r\n            this.targetPercent = 0;\r\n            // GameGlobal.customUpdateAct.add(this.update, this);\r\n        }\r\n        else if (!this.loadingUI.visible) {\r\n            Extension.UIManager.instance.showUI(this.loadingUI, Extension.UILayerTop);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\u663E\u793A\u5E76\u8BBE\u7F6E\u8FDB\u5EA6\u503C */\r\n    public setProgress(val: number, max: number = 1, min: number = 0): LoadingUI {\r\n        this.open();\r\n        this.loadingUI.slider_progress.sliderMinValue = (Math.min(min, max));\r\n        this.loadingUI.slider_progress.sliderMaxValue = (Math.max(min, max));\r\n        this.targetPercent = val;\r\n        if (this.targetPercent <= this.loadingUI.slider_progress.currentValue) {\r\n            this.loadingUI.slider_progress.currentValue = (this.targetPercent);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\u663E\u793A\u5E76\u8BBE\u7F6E\u8FDB\u5EA6\u6587\u5B57 */\r\n    public setText(txt: string): LoadingUI {\r\n        this.open();\r\n        this.loadingUI.txt_des.text = (txt);\r\n        return this;\r\n    }\r\n\r\n    /**\u663E\u793A\u5E76\u8BBE\u7F6E\u8FDB\u5EA6\u6761\u80CC\u666F\u56FE */\r\n    public setBgImg(guid: string): LoadingUI {\r\n        this.open();\r\n        this.loadingUI.img_bg.imageGuid = (guid);\r\n        return this\r\n    }\r\n\r\n    private lastSetCompAction: () => void = null;\r\n    /**\u8BBE\u7F6E\u8FDB\u5EA6\u6761\u8D70\u5B8C\u540E\u8981\u5E72\u7684\u4E8B\u60C5 */\r\n    public setCompeleteAct(callback: () => {}): LoadingUI {\r\n        this.lastSetCompAction = callback;\r\n        return this\r\n    }\r\n\r\n    /**\u5F00\u542F\u4E00\u4E2A\u865A\u5047\u7684\u56FA\u5B9A\u65F6\u95F4\u8FDB\u5EA6\u6761 */\r\n    public setForgeProgress(time: number): LoadingUI {\r\n        this.forge = true;\r\n        this.setProgress(0, time);\r\n        return this;\r\n    }\r\n\r\n    /**\u6E05\u7406\u6240\u6709\u53C2\u6570 */\r\n    public clearAll(): LoadingUI {\r\n        this.lastSetCompAction = null;\r\n        this.forge = false;\r\n        this.targetPercent = 0;\r\n        this.tickStep = -1;\r\n        if (this.loadingUI) {\r\n            this.loadingUI.txt_des.text = (\"\");\r\n            this.loadingUI.img_bg.imageGuid = (\"\");\r\n            this.loadingUI.slider_progress.currentValue = (0);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\u6BCF\u5E27\u8FDB\u53D1\u7684\u8DDD\u79BB */\r\n    public setTickStep(sp: number): LoadingUI {\r\n        this.tickStep = sp;\r\n        return this;\r\n    }\r\n\r\n    private forge: boolean = false;\r\n    private targetPercent: number = 0;\r\n    private tickStep: number = -1;\r\n    private update(dt: number) {\r\n        if (this.isShow) {\r\n            let [cur, max] = [this.loadingUI.slider_progress.currentValue, this.loadingUI.slider_progress.sliderMaxValue];\r\n            cur += this.tickStep > 0 ? dt * this.tickStep : dt;\r\n            if (this.forge) {//\u5982\u679C\u662F\u865A\u5047\u8FDB\u5EA6\r\n                this.setProgress(cur + dt, max);\r\n            }\r\n            else {\r\n                cur = this.RoundNumber(cur, this.loadingUI.slider_progress.sliderMinValue, this.targetPercent);\r\n            }\r\n            this.loadingUI.slider_progress.currentValue = (cur);\r\n\r\n            if (cur >= max) {\r\n                if (this.lastSetCompAction != null) {\r\n                    try {\r\n                        this.lastSetCompAction();\r\n                    } catch (error) {\r\n                        console.log(\"loading error:\" + error);\r\n                    }\r\n\r\n                    this.lastSetCompAction = null;\r\n                }\r\n                Extension.UIManager.instance.hideUI(this.loadingUI);\r\n                this.clearAll();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private RoundNumber(value: number, min: number, max: number) {\r\n        if (value > max) return max;\r\n        if (value < min) return min;\r\n        return value;\r\n    }\r\n}",
    "\uFEFF\r\n\r\n// \u7528\u6237\u53EF\u4EE5\u81EA\u5B9A\u4E49\u81EA\u5DF1\u7684UIManager\u7EE7\u627F\u7C7B\r\nExtension.UIManager.getInstance(Extension.UIManager);\r\n\r\n@UI.UICallOnly('UI/UIDefault.ui')\r\nexport default class UIDefault extends UI.UIBehaviour {\r\n\r\n\t/** \r\n\t* \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0C\u5728\u5408\u9002\u7684\u65F6\u673A\u6700\u5148\u521D\u59CB\u5316\u4E00\u6B21 \r\n\t*/\r\n\tprotected onStart() {\r\n        //\u627E\u5230\u8DF3\u8DC3\u7684\u6309\u94AE\r\n\t\tconst JumpBtn = this.rootcanvas.getChildByName('MWButton_Jump') as UI.Button;\r\n\t\t//\u70B9\u51FB\u8DF3\u8DC3\u6309\u94AE\r\n        JumpBtn.onClicked.add(()=>{\r\n\t\t\tGameplay.asyncGetCurrentPlayer().then((player : Gameplay.Player)=>{\r\n\t\t\t\tplayer.character.jump();\r\n\t\t\t})\r\n\t\t});\r\n    }\r\n\r\n\t/** \r\n\t   * \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0ConInitialized\u4E4B\u540E \r\n\t   * \u5BF9\u4E8EUI\u7684\u6839\u8282\u70B9\u7684\u6DFB\u52A0\u64CD\u4F5C\uFF0C\u8FDB\u884C\u8C03\u7528\r\n\t   * \u6CE8\u610F\uFF1A\u8BE5\u4E8B\u4EF6\u53EF\u80FD\u4F1A\u591A\u6B21\u8C03\u7528\r\n\t   */\r\n\tprotected onConstruct() {\r\n\t}\r\n\r\n\t /** \r\n\t  * \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0Cconstruct\u4E4B\u540E\r\n\t  * \u5BF9\u4E8EUI\u7684\u6839\u8282\u70B9\u7684\u79FB\u9664\u64CD\u4F5C\uFF0C\u8FDB\u884C\u8C03\u7528\r\n\t  * \u6CE8\u610F\uFF1A\u8BE5\u4E8B\u4EF6\u53EF\u80FD\u4F1A\u591A\u6B21\u8C03\u7528\r\n\t  */\r\n\tprotected onDestruct() {\r\n\t}\r\n\r\n\t /** \r\n\t * \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0CUI\u5BF9\u8C61\u518D\u88AB\u9500\u6BC1\u65F6\u8C03\u7528 \r\n\t * \u6CE8\u610F\uFF1A\u8FD9\u4E4B\u540EUI\u5BF9\u8C61\u5DF2\u7ECF\u88AB\u9500\u6BC1\u4E86\uFF0C\u9700\u8981\u79FB\u9664\u6240\u6709\u5BF9\u8BE5\u6587\u4EF6\u548CUI\u76F8\u5173\u5BF9\u8C61\u4EE5\u53CA\u5B50\u5BF9\u8C61\u7684\u5F15\u7528\r\n\t */\r\n\t//protected onDestroy() {\r\n\t//}\r\n\r\n\t/**\r\n\t* \u6BCF\u4E00\u5E27\u8C03\u7528\r\n\t* \u901A\u8FC7canUpdate\u53EF\u4EE5\u5F00\u542F\u5173\u95ED\u8C03\u7528\r\n\t* dt \u4E24\u5E27\u8C03\u7528\u7684\u65F6\u95F4\u5DEE\uFF0C\u6BEB\u79D2\r\n\t*/\r\n\t//protected onUpdate(dt :number) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6E\u663E\u793A\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onVisible(...params:any[]) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6E\u4E0D\u663E\u793A\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onInVisible() {\r\n\t//}\r\n\r\n}"
  ],
  "mappings": "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",
  "names": []
}